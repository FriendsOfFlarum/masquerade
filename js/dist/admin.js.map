{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@fof/masquerade/webpack/bootstrap","webpack://@fof/masquerade/webpack/runtime/compat get default export","webpack://@fof/masquerade/webpack/runtime/define property getters","webpack://@fof/masquerade/webpack/runtime/hasOwnProperty shorthand","webpack://@fof/masquerade/webpack/runtime/make namespace object","webpack://@fof/masquerade/external root \"flarum.core.compat['admin/app']\"","webpack://@fof/masquerade/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@fof/masquerade/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@fof/masquerade/./node_modules/html5sortable/dist/html5sortable.es.js","webpack://@fof/masquerade/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@fof/masquerade/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@fof/masquerade/external root \"flarum.core.compat['common/components/Button']\"","webpack://@fof/masquerade/external root \"flarum.core.compat['common/components/Select']\"","webpack://@fof/masquerade/external root \"flarum.core.compat['common/utils/withAttr']\"","webpack://@fof/masquerade/external root \"flarum.core.compat['common/Component']\"","webpack://@fof/masquerade/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@fof/masquerade/./src/admin/components/SelectFieldOptionEditor.js","webpack://@fof/masquerade/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@fof/masquerade/./src/admin/components/FieldEdit.js","webpack://@fof/masquerade/./src/admin/components/FieldList.ts","webpack://@fof/masquerade/external root \"flarum.core.compat['admin/utils/saveSettings']\"","webpack://@fof/masquerade/./src/admin/components/MasqueradePage.js","webpack://@fof/masquerade/external root \"flarum.core.compat['common/extenders']\"","webpack://@fof/masquerade/external root \"flarum.core.compat['common/Model']\"","webpack://@fof/masquerade/./src/lib/models/Field.js","webpack://@fof/masquerade/./src/common/extend.ts","webpack://@fof/masquerade/./src/admin/extend.ts","webpack://@fof/masquerade/./src/admin/components/index.ts","webpack://@fof/masquerade/./src/admin/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","/*\n * HTML5Sortable package\n * https://github.com/lukasoppermann/html5sortable\n *\n * Maintained by Lukas Oppermann <lukas@vea.re>\n *\n * Released under the MIT license.\n */\n/**\n * Get or set data on element\n * @param {HTMLElement} element\n * @param {string} key\n * @param {any} value\n * @return {*}\n */\nfunction addData(element, key, value) {\n    if (value === undefined) {\n        return element && element.h5s && element.h5s.data && element.h5s.data[key];\n    }\n    else {\n        element.h5s = element.h5s || {};\n        element.h5s.data = element.h5s.data || {};\n        element.h5s.data[key] = value;\n    }\n}\n/**\n * Remove data from element\n * @param {HTMLElement} element\n */\nfunction removeData(element) {\n    if (element.h5s) {\n        delete element.h5s.data;\n    }\n}\n\n/* eslint-env browser */\n/**\n * Filter only wanted nodes\n * @param {NodeList|HTMLCollection|Array} nodes\n * @param {String} selector\n * @returns {Array}\n */\nvar _filter = (function (nodes, selector) {\n    if (!(nodes instanceof NodeList || nodes instanceof HTMLCollection || nodes instanceof Array)) {\n        throw new Error('You must provide a nodeList/HTMLCollection/Array of elements to be filtered.');\n    }\n    if (typeof selector !== 'string') {\n        return Array.from(nodes);\n    }\n    return Array.from(nodes).filter(function (item) { return item.nodeType === 1 && item.matches(selector); });\n});\n\n/* eslint-env browser */\nvar stores = new Map();\n/**\n * Stores data & configurations per Sortable\n * @param {Object} config\n */\nvar Store = /** @class */ (function () {\n    function Store() {\n        this._config = new Map(); // eslint-disable-line no-undef\n        this._placeholder = undefined; // eslint-disable-line no-undef\n        this._data = new Map(); // eslint-disable-line no-undef\n    }\n    Object.defineProperty(Store.prototype, \"config\", {\n        /**\n         * get the configuration map of a class instance\n         * @method config\n         * @return {object}\n         */\n        get: function () {\n            // transform Map to object\n            var config = {};\n            this._config.forEach(function (value, key) {\n                config[key] = value;\n            });\n            // return object\n            return config;\n        },\n        /**\n         * set the configuration of a class instance\n         * @method config\n         * @param {object} config object of configurations\n         */\n        set: function (config) {\n            if (typeof config !== 'object') {\n                throw new Error('You must provide a valid configuration object to the config setter.');\n            }\n            // combine config with default\n            var mergedConfig = Object.assign({}, config);\n            // add config to map\n            this._config = new Map(Object.entries(mergedConfig));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * set individual configuration of a class instance\n     * @method setConfig\n     * @param  key valid configuration key\n     * @param  value any value\n     * @return void\n     */\n    Store.prototype.setConfig = function (key, value) {\n        if (!this._config.has(key)) {\n            throw new Error(\"Trying to set invalid configuration item: \" + key);\n        }\n        // set config\n        this._config.set(key, value);\n    };\n    /**\n     * get an individual configuration of a class instance\n     * @method getConfig\n     * @param  key valid configuration key\n     * @return any configuration value\n     */\n    Store.prototype.getConfig = function (key) {\n        if (!this._config.has(key)) {\n            throw new Error(\"Invalid configuration item requested: \" + key);\n        }\n        return this._config.get(key);\n    };\n    Object.defineProperty(Store.prototype, \"placeholder\", {\n        /**\n         * get the placeholder for a class instance\n         * @method placeholder\n         * @return {HTMLElement|null}\n         */\n        get: function () {\n            return this._placeholder;\n        },\n        /**\n         * set the placeholder for a class instance\n         * @method placeholder\n         * @param {HTMLElement} placeholder\n         * @return {void}\n         */\n        set: function (placeholder) {\n            if (!(placeholder instanceof HTMLElement) && placeholder !== null) {\n                throw new Error('A placeholder must be an html element or null.');\n            }\n            this._placeholder = placeholder;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * set an data entry\n     * @method setData\n     * @param {string} key\n     * @param {any} value\n     * @return {void}\n     */\n    Store.prototype.setData = function (key, value) {\n        if (typeof key !== 'string') {\n            throw new Error('The key must be a string.');\n        }\n        this._data.set(key, value);\n    };\n    /**\n     * get an data entry\n     * @method getData\n     * @param {string} key an existing key\n     * @return {any}\n     */\n    Store.prototype.getData = function (key) {\n        if (typeof key !== 'string') {\n            throw new Error('The key must be a string.');\n        }\n        return this._data.get(key);\n    };\n    /**\n     * delete an data entry\n     * @method deleteData\n     * @param {string} key an existing key\n     * @return {boolean}\n     */\n    Store.prototype.deleteData = function (key) {\n        if (typeof key !== 'string') {\n            throw new Error('The key must be a string.');\n        }\n        return this._data.delete(key);\n    };\n    return Store;\n}());\n/**\n * @param {HTMLElement} sortableElement\n * @returns {Class: Store}\n */\nvar store = (function (sortableElement) {\n    // if sortableElement is wrong type\n    if (!(sortableElement instanceof HTMLElement)) {\n        throw new Error('Please provide a sortable to the store function.');\n    }\n    // create new instance if not avilable\n    if (!stores.has(sortableElement)) {\n        stores.set(sortableElement, new Store());\n    }\n    // return instance\n    return stores.get(sortableElement);\n});\n\n/**\n * @param {Array|HTMLElement} element\n * @param {Function} callback\n * @param {string} event\n */\nfunction addEventListener(element, eventName, callback) {\n    if (element instanceof Array) {\n        for (var i = 0; i < element.length; ++i) {\n            addEventListener(element[i], eventName, callback);\n        }\n        return;\n    }\n    element.addEventListener(eventName, callback);\n    store(element).setData(\"event\" + eventName, callback);\n}\n/**\n * @param {Array<HTMLElement>|HTMLElement} element\n * @param {string} eventName\n */\nfunction removeEventListener(element, eventName) {\n    if (element instanceof Array) {\n        for (var i = 0; i < element.length; ++i) {\n            removeEventListener(element[i], eventName);\n        }\n        return;\n    }\n    element.removeEventListener(eventName, store(element).getData(\"event\" + eventName));\n    store(element).deleteData(\"event\" + eventName);\n}\n\n/**\n * @param {Array<HTMLElement>|HTMLElement} element\n * @param {string} attribute\n * @param {string} value\n */\nfunction addAttribute(element, attribute, value) {\n    if (element instanceof Array) {\n        for (var i = 0; i < element.length; ++i) {\n            addAttribute(element[i], attribute, value);\n        }\n        return;\n    }\n    element.setAttribute(attribute, value);\n}\n/**\n * @param {Array|HTMLElement} element\n * @param {string} attribute\n */\nfunction removeAttribute(element, attribute) {\n    if (element instanceof Array) {\n        for (var i = 0; i < element.length; ++i) {\n            removeAttribute(element[i], attribute);\n        }\n        return;\n    }\n    element.removeAttribute(attribute);\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {Object}\n */\nvar _offset = (function (element) {\n    if (!element.parentElement || element.getClientRects().length === 0) {\n        throw new Error('target element must be part of the dom');\n    }\n    var rect = element.getClientRects()[0];\n    return {\n        left: rect.left + window.pageXOffset,\n        right: rect.right + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        bottom: rect.bottom + window.pageYOffset\n    };\n});\n\n/**\n * Creates and returns a new debounced version of the passed function which will postpone its execution until after wait milliseconds have elapsed\n * @param {Function} func to debounce\n * @param {number} time to wait before calling function with latest arguments, 0 - no debounce\n * @returns {function} - debounced function\n */\nvar _debounce = (function (func, wait) {\n    if (wait === void 0) { wait = 0; }\n    var timeout;\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        clearTimeout(timeout);\n        timeout = setTimeout(function () {\n            func.apply(void 0, args);\n        }, wait);\n    };\n});\n\n/* eslint-env browser */\n/**\n * Get position of the element relatively to its sibling elements\n * @param {HTMLElement} element\n * @returns {number}\n */\nvar _index = (function (element, elementList) {\n    if (!(element instanceof HTMLElement) || !(elementList instanceof NodeList || elementList instanceof HTMLCollection || elementList instanceof Array)) {\n        throw new Error('You must provide an element and a list of elements.');\n    }\n    return Array.from(elementList).indexOf(element);\n});\n\n/* eslint-env browser */\n/**\n * Test whether element is in DOM\n * @param {HTMLElement} element\n * @returns {boolean}\n */\nvar isInDom = (function (element) {\n    if (!(element instanceof HTMLElement)) {\n        throw new Error('Element is not a node element.');\n    }\n    return element.parentNode !== null;\n});\n\n/* eslint-env browser */\n/**\n * Insert node before or after target\n * @param {HTMLElement} referenceNode - reference element\n * @param {HTMLElement} newElement - element to be inserted\n * @param {String} position - insert before or after reference element\n */\nvar insertNode = function (referenceNode, newElement, position) {\n    if (!(referenceNode instanceof HTMLElement) || !(referenceNode.parentElement instanceof HTMLElement)) {\n        throw new Error('target and element must be a node');\n    }\n    referenceNode.parentElement.insertBefore(newElement, (position === 'before' ? referenceNode : referenceNode.nextElementSibling));\n};\n/**\n * Insert before target\n * @param {HTMLElement} target\n * @param {HTMLElement} element\n */\nvar insertBefore = function (target, element) { return insertNode(target, element, 'before'); };\n/**\n * Insert after target\n * @param {HTMLElement} target\n * @param {HTMLElement} element\n */\nvar insertAfter = function (target, element) { return insertNode(target, element, 'after'); };\n\n/* eslint-env browser */\n/**\n * Filter only wanted nodes\n * @param {HTMLElement} sortableContainer\n * @param {Function} customSerializer\n * @returns {Array}\n */\nvar _serialize = (function (sortableContainer, customItemSerializer, customContainerSerializer) {\n    if (customItemSerializer === void 0) { customItemSerializer = function (serializedItem, sortableContainer) { return serializedItem; }; }\n    if (customContainerSerializer === void 0) { customContainerSerializer = function (serializedContainer) { return serializedContainer; }; }\n    // check for valid sortableContainer\n    if (!(sortableContainer instanceof HTMLElement) || !sortableContainer.isSortable === true) {\n        throw new Error('You need to provide a sortableContainer to be serialized.');\n    }\n    // check for valid serializers\n    if (typeof customItemSerializer !== 'function' || typeof customContainerSerializer !== 'function') {\n        throw new Error('You need to provide a valid serializer for items and the container.');\n    }\n    // get options\n    var options = addData(sortableContainer, 'opts');\n    var item = options.items;\n    // serialize container\n    var items = _filter(sortableContainer.children, item);\n    var serializedItems = items.map(function (item) {\n        return {\n            parent: sortableContainer,\n            node: item,\n            html: item.outerHTML,\n            index: _index(item, items)\n        };\n    });\n    // serialize container\n    var container = {\n        node: sortableContainer,\n        itemCount: serializedItems.length\n    };\n    return {\n        container: customContainerSerializer(container),\n        items: serializedItems.map(function (item) { return customItemSerializer(item, sortableContainer); })\n    };\n});\n\n/* eslint-env browser */\n/**\n * create a placeholder element\n * @param {HTMLElement} sortableElement a single sortable\n * @param {string|undefined} placeholder a string representing an html element\n * @param {string} placeholderClasses a string representing the classes that should be added to the placeholder\n */\nvar _makePlaceholder = (function (sortableElement, placeholder, placeholderClass) {\n    var _a;\n    if (placeholderClass === void 0) { placeholderClass = 'sortable-placeholder'; }\n    if (!(sortableElement instanceof HTMLElement)) {\n        throw new Error('You must provide a valid element as a sortable.');\n    }\n    // if placeholder is not an element\n    if (!(placeholder instanceof HTMLElement) && placeholder !== undefined) {\n        throw new Error('You must provide a valid element as a placeholder or set ot to undefined.');\n    }\n    // if no placeholder element is given\n    if (placeholder === undefined) {\n        if (['UL', 'OL'].includes(sortableElement.tagName)) {\n            placeholder = document.createElement('li');\n        }\n        else if (['TABLE', 'TBODY'].includes(sortableElement.tagName)) {\n            placeholder = document.createElement('tr');\n            // set colspan to always all rows, otherwise the item can only be dropped in first column\n            placeholder.innerHTML = '<td colspan=\"100\"></td>';\n        }\n        else {\n            placeholder = document.createElement('div');\n        }\n    }\n    // add classes to placeholder\n    if (typeof placeholderClass === 'string') {\n        (_a = placeholder.classList).add.apply(_a, placeholderClass.split(' '));\n    }\n    return placeholder;\n});\n\n/* eslint-env browser */\n/**\n * Get height of an element including padding\n * @param {HTMLElement} element an dom element\n */\nvar _getElementHeight = (function (element) {\n    if (!(element instanceof HTMLElement)) {\n        throw new Error('You must provide a valid dom element');\n    }\n    // get calculated style of element\n    var style = window.getComputedStyle(element);\n    // get only height if element has box-sizing: border-box specified\n    if (style.getPropertyValue('box-sizing') === 'border-box') {\n        return parseInt(style.getPropertyValue('height'), 10);\n    }\n    // pick applicable properties, convert to int and reduce by adding\n    return ['height', 'padding-top', 'padding-bottom']\n        .map(function (key) {\n        var int = parseInt(style.getPropertyValue(key), 10);\n        return isNaN(int) ? 0 : int;\n    })\n        .reduce(function (sum, value) { return sum + value; });\n});\n\n/* eslint-env browser */\n/**\n * Get width of an element including padding\n * @param {HTMLElement} element an dom element\n */\nvar _getElementWidth = (function (element) {\n    if (!(element instanceof HTMLElement)) {\n        throw new Error('You must provide a valid dom element');\n    }\n    // get calculated style of element\n    var style = window.getComputedStyle(element);\n    // pick applicable properties, convert to int and reduce by adding\n    return ['width', 'padding-left', 'padding-right']\n        .map(function (key) {\n        var int = parseInt(style.getPropertyValue(key), 10);\n        return isNaN(int) ? 0 : int;\n    })\n        .reduce(function (sum, value) { return sum + value; });\n});\n\n/* eslint-env browser */\n/**\n * get handle or return item\n * @param {Array<HTMLElement>} items\n * @param {string} selector\n */\nvar _getHandles = (function (items, selector) {\n    if (!(items instanceof Array)) {\n        throw new Error('You must provide a Array of HTMLElements to be filtered.');\n    }\n    if (typeof selector !== 'string') {\n        return items;\n    }\n    return items\n        // remove items without handle from array\n        .filter(function (item) {\n        return item.querySelector(selector) instanceof HTMLElement ||\n            (item.shadowRoot && item.shadowRoot.querySelector(selector) instanceof HTMLElement);\n    })\n        // replace item with handle in array\n        .map(function (item) {\n        return item.querySelector(selector) || (item.shadowRoot && item.shadowRoot.querySelector(selector));\n    });\n});\n\n/**\n * @param {Event} event\n * @returns {HTMLElement}\n */\nvar getEventTarget = (function (event) {\n    return (event.composedPath && event.composedPath()[0]) || event.target;\n});\n\n/* eslint-env browser */\n/**\n * defaultDragImage returns the current item as dragged image\n * @param {HTMLElement} draggedElement - the item that the user drags\n * @param {object} elementOffset - an object with the offsets top, left, right & bottom\n * @param {Event} event - the original drag event object\n * @return {object} with element, posX and posY properties\n */\nvar defaultDragImage = function (draggedElement, elementOffset, event) {\n    return {\n        element: draggedElement,\n        posX: event.pageX - elementOffset.left,\n        posY: event.pageY - elementOffset.top\n    };\n};\n/**\n * attaches an element as the drag image to an event\n * @param {Event} event - the original drag event object\n * @param {HTMLElement} draggedElement - the item that the user drags\n * @param {Function} customDragImage - function to create a custom dragImage\n * @return void\n */\nvar setDragImage = (function (event, draggedElement, customDragImage) {\n    // check if event is provided\n    if (!(event instanceof Event)) {\n        throw new Error('setDragImage requires a DragEvent as the first argument.');\n    }\n    // check if draggedElement is provided\n    if (!(draggedElement instanceof HTMLElement)) {\n        throw new Error('setDragImage requires the dragged element as the second argument.');\n    }\n    // set default function of none provided\n    if (!customDragImage) {\n        customDragImage = defaultDragImage;\n    }\n    // check if setDragImage method is available\n    if (event.dataTransfer && event.dataTransfer.setDragImage) {\n        // get the elements offset\n        var elementOffset = _offset(draggedElement);\n        // get the dragImage\n        var dragImage = customDragImage(draggedElement, elementOffset, event);\n        // check if custom function returns correct values\n        if (!(dragImage.element instanceof HTMLElement) || typeof dragImage.posX !== 'number' || typeof dragImage.posY !== 'number') {\n            throw new Error('The customDragImage function you provided must return and object with the properties element[string], posX[integer], posY[integer].');\n        }\n        // needs to be set for HTML5 drag & drop to work\n        event.dataTransfer.effectAllowed = 'copyMove';\n        // Firefox requires it to use the event target's id for the data\n        event.dataTransfer.setData('text/plain', getEventTarget(event).id);\n        // set the drag image on the event\n        event.dataTransfer.setDragImage(dragImage.element, dragImage.posX, dragImage.posY);\n    }\n});\n\n/**\n * Check if curList accepts items from destList\n * @param {sortable} destination the container an item is move to\n * @param {sortable} origin the container an item comes from\n */\nvar _listsConnected = (function (destination, origin) {\n    // check if valid sortable\n    if (destination.isSortable === true) {\n        var acceptFrom = store(destination).getConfig('acceptFrom');\n        // check if acceptFrom is valid\n        if (acceptFrom !== null && acceptFrom !== false && typeof acceptFrom !== 'string') {\n            throw new Error('HTML5Sortable: Wrong argument, \"acceptFrom\" must be \"null\", \"false\", or a valid selector string.');\n        }\n        if (acceptFrom !== null) {\n            return acceptFrom !== false && acceptFrom.split(',').filter(function (sel) {\n                return sel.length > 0 && origin.matches(sel);\n            }).length > 0;\n        }\n        // drop in same list\n        if (destination === origin) {\n            return true;\n        }\n        // check if lists are connected with connectWith\n        if (store(destination).getConfig('connectWith') !== undefined && store(destination).getConfig('connectWith') !== null) {\n            return store(destination).getConfig('connectWith') === store(origin).getConfig('connectWith');\n        }\n    }\n    return false;\n});\n\n/**\n * default configurations\n */\nvar defaultConfiguration = {\n    items: null,\n    // deprecated\n    connectWith: null,\n    // deprecated\n    disableIEFix: null,\n    acceptFrom: null,\n    copy: false,\n    placeholder: null,\n    placeholderClass: 'sortable-placeholder',\n    draggingClass: 'sortable-dragging',\n    hoverClass: false,\n    dropTargetContainerClass: false,\n    debounce: 0,\n    throttleTime: 100,\n    maxItems: 0,\n    itemSerializer: undefined,\n    containerSerializer: undefined,\n    customDragImage: null,\n    orientation: 'vertical'\n};\n\n/**\n * make sure a function is only called once within the given amount of time\n * @param {Function} fn the function to throttle\n * @param {number} threshold time limit for throttling\n */\n// must use function to keep this context\nfunction _throttle (fn, threshold) {\n    var _this = this;\n    if (threshold === void 0) { threshold = 250; }\n    // check function\n    if (typeof fn !== 'function') {\n        throw new Error('You must provide a function as the first argument for throttle.');\n    }\n    // check threshold\n    if (typeof threshold !== 'number') {\n        throw new Error('You must provide a number as the second argument for throttle.');\n    }\n    var lastEventTimestamp = null;\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var now = Date.now();\n        if (lastEventTimestamp === null || now - lastEventTimestamp >= threshold) {\n            lastEventTimestamp = now;\n            fn.apply(_this, args);\n        }\n    };\n}\n\n/* eslint-env browser */\n/**\n * enable or disable hoverClass on mouseenter/leave if container Items\n * @param {sortable} sortableContainer a valid sortableContainer\n * @param {boolean} enable enable or disable event\n */\n// export default (sortableContainer: sortable, enable: boolean) => {\nvar enableHoverClass = (function (sortableContainer, enable) {\n    if (typeof store(sortableContainer).getConfig('hoverClass') === 'string') {\n        var hoverClasses_1 = store(sortableContainer).getConfig('hoverClass').split(' ');\n        // add class on hover\n        if (enable === true) {\n            addEventListener(sortableContainer, 'mousemove', _throttle(function (event) {\n                // check of no mouse button was pressed when mousemove started == no drag\n                if (event.buttons === 0) {\n                    _filter(sortableContainer.children, store(sortableContainer).getConfig('items')).forEach(function (item) {\n                        var _a, _b;\n                        if (item !== event.target) {\n                            (_a = item.classList).remove.apply(_a, hoverClasses_1);\n                        }\n                        else {\n                            (_b = item.classList).add.apply(_b, hoverClasses_1);\n                        }\n                    });\n                }\n            }, store(sortableContainer).getConfig('throttleTime')));\n            // remove class on leave\n            addEventListener(sortableContainer, 'mouseleave', function () {\n                _filter(sortableContainer.children, store(sortableContainer).getConfig('items')).forEach(function (item) {\n                    var _a;\n                    (_a = item.classList).remove.apply(_a, hoverClasses_1);\n                });\n            });\n            // remove events\n        }\n        else {\n            removeEventListener(sortableContainer, 'mousemove');\n            removeEventListener(sortableContainer, 'mouseleave');\n        }\n    }\n});\n\n/* eslint-env browser */\n/*\n * variables global to the plugin\n */\nvar dragging;\nvar draggingHeight;\nvar draggingWidth;\n/*\n * Keeps track of the initialy selected list, where 'dragstart' event was triggered\n * It allows us to move the data in between individual Sortable List instances\n */\n// Origin List - data from before any item was changed\nvar originContainer;\nvar originIndex;\nvar originElementIndex;\nvar originItemsBeforeUpdate;\n// Previous Sortable Container - we dispatch as sortenter event when a\n// dragged item enters a sortableContainer for the first time\nvar previousContainer;\n// Destination List - data from before any item was changed\nvar destinationItemsBeforeUpdate;\n/**\n * remove event handlers from items\n * @param {Array|NodeList} items\n */\nvar _removeItemEvents = function (items) {\n    removeEventListener(items, 'dragstart');\n    removeEventListener(items, 'dragend');\n    removeEventListener(items, 'dragover');\n    removeEventListener(items, 'dragenter');\n    removeEventListener(items, 'drop');\n    removeEventListener(items, 'mouseenter');\n    removeEventListener(items, 'mouseleave');\n};\n// Remove container events\nvar _removeContainerEvents = function (originContainer, previousContainer) {\n    if (originContainer) {\n        removeEventListener(originContainer, 'dragleave');\n    }\n    if (previousContainer && (previousContainer !== originContainer)) {\n        removeEventListener(previousContainer, 'dragleave');\n    }\n};\n/**\n * _getDragging returns the current element to drag or\n * a copy of the element.\n * Is Copy Active for sortable\n * @param {HTMLElement} draggedItem - the item that the user drags\n * @param {HTMLElement} sortable a single sortable\n */\nvar _getDragging = function (draggedItem, sortable) {\n    var ditem = draggedItem;\n    if (store(sortable).getConfig('copy') === true) {\n        ditem = draggedItem.cloneNode(true);\n        addAttribute(ditem, 'aria-copied', 'true');\n        draggedItem.parentElement.appendChild(ditem);\n        ditem.style.display = 'none';\n        ditem.oldDisplay = draggedItem.style.display;\n    }\n    return ditem;\n};\n/**\n * Remove data from sortable\n * @param {HTMLElement} sortable a single sortable\n */\nvar _removeSortableData = function (sortable) {\n    removeData(sortable);\n    removeAttribute(sortable, 'aria-dropeffect');\n};\n/**\n * Remove data from items\n * @param {Array<HTMLElement>|HTMLElement} items\n */\nvar _removeItemData = function (items) {\n    removeAttribute(items, 'aria-grabbed');\n    removeAttribute(items, 'aria-copied');\n    removeAttribute(items, 'draggable');\n    removeAttribute(items, 'role');\n};\n/**\n * find sortable from element. travels up parent element until found or null.\n * @param {HTMLElement} element a single sortable\n * @param {Event} event - the current event. We need to pass it to be able to\n * find Sortable whith shadowRoot (document fragment has no parent)\n */\nfunction findSortable(element, event) {\n    if (event.composedPath) {\n        return event.composedPath().find(function (el) { return el.isSortable; });\n    }\n    while (element.isSortable !== true) {\n        element = element.parentElement;\n    }\n    return element;\n}\n/**\n * Dragging event is on the sortable element. finds the top child that\n * contains the element.\n * @param {HTMLElement} sortableElement a single sortable\n * @param {HTMLElement} element is that being dragged\n */\nfunction findDragElement(sortableElement, element) {\n    var options = addData(sortableElement, 'opts');\n    var items = _filter(sortableElement.children, options.items);\n    var itemlist = items.filter(function (ele) {\n        return ele.contains(element) || (ele.shadowRoot && ele.shadowRoot.contains(element));\n    });\n    return itemlist.length > 0 ? itemlist[0] : element;\n}\n/**\n * Destroy the sortable\n * @param {HTMLElement} sortableElement a single sortable\n */\nvar _destroySortable = function (sortableElement) {\n    var opts = addData(sortableElement, 'opts') || {};\n    var items = _filter(sortableElement.children, opts.items);\n    var handles = _getHandles(items, opts.handle);\n    // remove event handlers & data from sortable\n    removeEventListener(sortableElement, 'dragover');\n    removeEventListener(sortableElement, 'dragenter');\n    removeEventListener(sortableElement, 'dragstart');\n    removeEventListener(sortableElement, 'dragend');\n    removeEventListener(sortableElement, 'drop');\n    // remove event data from sortable\n    _removeSortableData(sortableElement);\n    // remove event handlers & data from items\n    removeEventListener(handles, 'mousedown');\n    _removeItemEvents(items);\n    _removeItemData(items);\n    _removeContainerEvents(originContainer, previousContainer);\n    // clear sortable flag\n    sortableElement.isSortable = false;\n};\n/**\n * Enable the sortable\n * @param {HTMLElement} sortableElement a single sortable\n */\nvar _enableSortable = function (sortableElement) {\n    var opts = addData(sortableElement, 'opts');\n    var items = _filter(sortableElement.children, opts.items);\n    var handles = _getHandles(items, opts.handle);\n    addAttribute(sortableElement, 'aria-dropeffect', 'move');\n    addData(sortableElement, '_disabled', 'false');\n    addAttribute(handles, 'draggable', 'true');\n    // @todo: remove this fix\n    // IE FIX for ghost\n    // can be disabled as it has the side effect that other events\n    // (e.g. click) will be ignored\n    if (opts.disableIEFix === false) {\n        var spanEl = (document || window.document).createElement('span');\n        if (typeof spanEl.dragDrop === 'function') {\n            addEventListener(handles, 'mousedown', function () {\n                if (items.indexOf(this) !== -1) {\n                    this.dragDrop();\n                }\n                else {\n                    var parent = this.parentElement;\n                    while (items.indexOf(parent) === -1) {\n                        parent = parent.parentElement;\n                    }\n                    parent.dragDrop();\n                }\n            });\n        }\n    }\n};\n/**\n * Disable the sortable\n * @param {HTMLElement} sortableElement a single sortable\n */\nvar _disableSortable = function (sortableElement) {\n    var opts = addData(sortableElement, 'opts');\n    var items = _filter(sortableElement.children, opts.items);\n    var handles = _getHandles(items, opts.handle);\n    addAttribute(sortableElement, 'aria-dropeffect', 'none');\n    addData(sortableElement, '_disabled', 'true');\n    addAttribute(handles, 'draggable', 'false');\n    removeEventListener(handles, 'mousedown');\n};\n/**\n * Reload the sortable\n * @param {HTMLElement} sortableElement a single sortable\n * @description events need to be removed to not be double bound\n */\nvar _reloadSortable = function (sortableElement) {\n    var opts = addData(sortableElement, 'opts');\n    var items = _filter(sortableElement.children, opts.items);\n    var handles = _getHandles(items, opts.handle);\n    addData(sortableElement, '_disabled', 'false');\n    // remove event handlers from items\n    _removeItemEvents(items);\n    _removeContainerEvents(originContainer, previousContainer);\n    removeEventListener(handles, 'mousedown');\n    // remove event handlers from sortable\n    removeEventListener(sortableElement, 'dragover');\n    removeEventListener(sortableElement, 'dragenter');\n    removeEventListener(sortableElement, 'drop');\n};\n/**\n * Public sortable object\n * @param {Array|NodeList} sortableElements\n * @param {object|string} options|method\n */\nfunction sortable(sortableElements, options) {\n    // get method string to see if a method is called\n    var method = String(options);\n    options = options || {};\n    // check if the user provided a selector instead of an element\n    if (typeof sortableElements === 'string') {\n        sortableElements = document.querySelectorAll(sortableElements);\n    }\n    // if the user provided an element, return it in an array to keep the return value consistant\n    if (sortableElements instanceof HTMLElement) {\n        sortableElements = [sortableElements];\n    }\n    sortableElements = Array.prototype.slice.call(sortableElements);\n    if (/serialize/.test(method)) {\n        return sortableElements.map(function (sortableContainer) {\n            var opts = addData(sortableContainer, 'opts');\n            return _serialize(sortableContainer, opts.itemSerializer, opts.containerSerializer);\n        });\n    }\n    sortableElements.forEach(function (sortableElement) {\n        if (/enable|disable|destroy/.test(method)) {\n            return sortable[method](sortableElement);\n        }\n        // log deprecation\n        ['connectWith', 'disableIEFix'].forEach(function (configKey) {\n            if (Object.prototype.hasOwnProperty.call(options, configKey) && options[configKey] !== null) {\n                console.warn(\"HTML5Sortable: You are using the deprecated configuration \\\"\" + configKey + \"\\\". This will be removed in an upcoming version, make sure to migrate to the new options when updating.\");\n            }\n        });\n        // merge options with default options\n        options = Object.assign({}, defaultConfiguration, store(sortableElement).config, options);\n        // init data store for sortable\n        store(sortableElement).config = options;\n        // set options on sortable\n        addData(sortableElement, 'opts', options);\n        // property to define as sortable\n        sortableElement.isSortable = true;\n        // reset sortable\n        _reloadSortable(sortableElement);\n        // initialize\n        var listItems = _filter(sortableElement.children, options.items);\n        // create element if user defined a placeholder element as a string\n        var customPlaceholder;\n        if (options.placeholder !== null && options.placeholder !== undefined) {\n            var tempContainer = document.createElement(sortableElement.tagName);\n            if (options.placeholder instanceof HTMLElement) {\n                tempContainer.appendChild(options.placeholder);\n            }\n            else {\n                tempContainer.innerHTML = options.placeholder;\n            }\n            customPlaceholder = tempContainer.children[0];\n        }\n        // add placeholder\n        store(sortableElement).placeholder = _makePlaceholder(sortableElement, customPlaceholder, options.placeholderClass);\n        addData(sortableElement, 'items', options.items);\n        if (options.acceptFrom) {\n            addData(sortableElement, 'acceptFrom', options.acceptFrom);\n        }\n        else if (options.connectWith) {\n            addData(sortableElement, 'connectWith', options.connectWith);\n        }\n        _enableSortable(sortableElement);\n        addAttribute(listItems, 'role', 'option');\n        addAttribute(listItems, 'aria-grabbed', 'false');\n        // enable hover class\n        enableHoverClass(sortableElement, true);\n        /*\n         Handle drag events on draggable items\n         Handle is set at the sortableElement level as it will bubble up\n         from the item\n         */\n        addEventListener(sortableElement, 'dragstart', function (e) {\n            // ignore dragstart events\n            var target = getEventTarget(e);\n            if (target.isSortable === true) {\n                return;\n            }\n            e.stopImmediatePropagation();\n            if ((options.handle && !target.matches(options.handle)) || target.getAttribute('draggable') === 'false') {\n                return;\n            }\n            var sortableContainer = findSortable(target, e);\n            var dragItem = findDragElement(sortableContainer, target);\n            // grab values\n            originItemsBeforeUpdate = _filter(sortableContainer.children, options.items);\n            originIndex = originItemsBeforeUpdate.indexOf(dragItem);\n            originElementIndex = _index(dragItem, sortableContainer.children);\n            originContainer = sortableContainer;\n            // add transparent clone or other ghost to cursor\n            setDragImage(e, dragItem, options.customDragImage);\n            // cache selsection & add attr for dragging\n            draggingHeight = _getElementHeight(dragItem);\n            draggingWidth = _getElementWidth(dragItem);\n            dragItem.classList.add(options.draggingClass);\n            dragging = _getDragging(dragItem, sortableContainer);\n            addAttribute(dragging, 'aria-grabbed', 'true');\n            // dispatch sortstart event on each element in group\n            sortableContainer.dispatchEvent(new CustomEvent('sortstart', {\n                detail: {\n                    origin: {\n                        elementIndex: originElementIndex,\n                        index: originIndex,\n                        container: originContainer\n                    },\n                    item: dragging,\n                    originalTarget: target\n                }\n            }));\n        });\n        /*\n         We are capturing targetSortable before modifications with 'dragenter' event\n        */\n        addEventListener(sortableElement, 'dragenter', function (e) {\n            var target = getEventTarget(e);\n            var sortableContainer = findSortable(target, e);\n            if (sortableContainer && sortableContainer !== previousContainer) {\n                destinationItemsBeforeUpdate = _filter(sortableContainer.children, addData(sortableContainer, 'items'))\n                    .filter(function (item) { return item !== store(sortableElement).placeholder; });\n                if (options.dropTargetContainerClass) {\n                    sortableContainer.classList.add(options.dropTargetContainerClass);\n                }\n                sortableContainer.dispatchEvent(new CustomEvent('sortenter', {\n                    detail: {\n                        origin: {\n                            elementIndex: originElementIndex,\n                            index: originIndex,\n                            container: originContainer\n                        },\n                        destination: {\n                            container: sortableContainer,\n                            itemsBeforeUpdate: destinationItemsBeforeUpdate\n                        },\n                        item: dragging,\n                        originalTarget: target\n                    }\n                }));\n                addEventListener(sortableContainer, 'dragleave', function (e) {\n                    // TODO: rename outTarget to be more self-explanatory\n                    // e.fromElement for very old browsers, similar to relatedTarget\n                    var outTarget = e.relatedTarget || e.fromElement;\n                    if (!e.currentTarget.contains(outTarget)) {\n                        if (options.dropTargetContainerClass) {\n                            sortableContainer.classList.remove(options.dropTargetContainerClass);\n                        }\n                        sortableContainer.dispatchEvent(new CustomEvent('sortleave', {\n                            detail: {\n                                origin: {\n                                    elementIndex: originElementIndex,\n                                    index: originIndex,\n                                    container: sortableContainer\n                                },\n                                item: dragging,\n                                originalTarget: target\n                            }\n                        }));\n                    }\n                });\n            }\n            previousContainer = sortableContainer;\n        });\n        /*\n         * Dragend Event - https://developer.mozilla.org/en-US/docs/Web/Events/dragend\n         * Fires each time dragEvent end, or ESC pressed\n         * We are using it to clean up any draggable elements and placeholders\n         */\n        addEventListener(sortableElement, 'dragend', function (e) {\n            if (!dragging) {\n                return;\n            }\n            dragging.classList.remove(options.draggingClass);\n            addAttribute(dragging, 'aria-grabbed', 'false');\n            if (dragging.getAttribute('aria-copied') === 'true' && addData(dragging, 'dropped') !== 'true') {\n                dragging.remove();\n            }\n            dragging.style.display = dragging.oldDisplay;\n            delete dragging.oldDisplay;\n            var visiblePlaceholder = Array.from(stores.values()).map(function (data) { return data.placeholder; })\n                .filter(function (placeholder) { return placeholder instanceof HTMLElement; })\n                .filter(isInDom)[0];\n            if (visiblePlaceholder) {\n                visiblePlaceholder.remove();\n            }\n            // dispatch sortstart event on each element in group\n            sortableElement.dispatchEvent(new CustomEvent('sortstop', {\n                detail: {\n                    origin: {\n                        elementIndex: originElementIndex,\n                        index: originIndex,\n                        container: originContainer\n                    },\n                    item: dragging\n                }\n            }));\n            previousContainer = null;\n            dragging = null;\n            draggingHeight = null;\n            draggingWidth = null;\n        });\n        /*\n         * Drop Event - https://developer.mozilla.org/en-US/docs/Web/Events/drop\n         * Fires when valid drop target area is hit\n         */\n        addEventListener(sortableElement, 'drop', function (e) {\n            if (!_listsConnected(sortableElement, dragging.parentElement)) {\n                return;\n            }\n            e.preventDefault();\n            e.stopPropagation();\n            addData(dragging, 'dropped', 'true');\n            // get the one placeholder that is currently visible\n            var visiblePlaceholder = Array.from(stores.values()).map(function (data) {\n                return data.placeholder;\n            })\n                // filter only HTMLElements\n                .filter(function (placeholder) { return placeholder instanceof HTMLElement; })\n                // filter only elements in DOM\n                .filter(isInDom)[0];\n            // attach element after placeholder\n            insertAfter(visiblePlaceholder, dragging);\n            // remove placeholder from dom\n            visiblePlaceholder.remove();\n            /*\n             * Fires Custom Event - 'sortstop'\n             */\n            sortableElement.dispatchEvent(new CustomEvent('sortstop', {\n                detail: {\n                    origin: {\n                        elementIndex: originElementIndex,\n                        index: originIndex,\n                        container: originContainer\n                    },\n                    item: dragging\n                }\n            }));\n            var placeholder = store(sortableElement).placeholder;\n            var originItems = _filter(originContainer.children, options.items)\n                .filter(function (item) { return item !== placeholder; });\n            var destinationContainer = this.isSortable === true ? this : this.parentElement;\n            var destinationItems = _filter(destinationContainer.children, addData(destinationContainer, 'items'))\n                .filter(function (item) { return item !== placeholder; });\n            var destinationElementIndex = _index(dragging, Array.from(dragging.parentElement.children)\n                .filter(function (item) { return item !== placeholder; }));\n            var destinationIndex = _index(dragging, destinationItems);\n            if (options.dropTargetContainerClass) {\n                destinationContainer.classList.remove(options.dropTargetContainerClass);\n            }\n            /*\n             * When a list item changed container lists or index within a list\n             * Fires Custom Event - 'sortupdate'\n             */\n            if (originElementIndex !== destinationElementIndex || originContainer !== destinationContainer) {\n                sortableElement.dispatchEvent(new CustomEvent('sortupdate', {\n                    detail: {\n                        origin: {\n                            elementIndex: originElementIndex,\n                            index: originIndex,\n                            container: originContainer,\n                            itemsBeforeUpdate: originItemsBeforeUpdate,\n                            items: originItems\n                        },\n                        destination: {\n                            index: destinationIndex,\n                            elementIndex: destinationElementIndex,\n                            container: destinationContainer,\n                            itemsBeforeUpdate: destinationItemsBeforeUpdate,\n                            items: destinationItems\n                        },\n                        item: dragging\n                    }\n                }));\n            }\n        });\n        var debouncedDragOverEnter = _debounce(function (sortableElement, element, pageX, pageY) {\n            if (!dragging) {\n                return;\n            }\n            // set placeholder height if forcePlaceholderSize option is set\n            if (options.forcePlaceholderSize) {\n                store(sortableElement).placeholder.style.height = draggingHeight + 'px';\n                store(sortableElement).placeholder.style.width = draggingWidth + 'px';\n            }\n            // if element the draggedItem is dragged onto is within the array of all elements in list\n            // (not only items, but also disabled, etc.)\n            if (Array.from(sortableElement.children).indexOf(element) > -1) {\n                var thisHeight = _getElementHeight(element);\n                var thisWidth = _getElementWidth(element);\n                var placeholderIndex = _index(store(sortableElement).placeholder, element.parentElement.children);\n                var thisIndex = _index(element, element.parentElement.children);\n                // Check if `element` is bigger than the draggable. If it is, we have to define a dead zone to prevent flickering\n                if (thisHeight > draggingHeight || thisWidth > draggingWidth) {\n                    // Dead zone?\n                    var deadZoneVertical = thisHeight - draggingHeight;\n                    var deadZoneHorizontal = thisWidth - draggingWidth;\n                    var offsetTop = _offset(element).top;\n                    var offsetLeft = _offset(element).left;\n                    if (placeholderIndex < thisIndex &&\n                        ((options.orientation === 'vertical' && pageY < offsetTop) ||\n                            (options.orientation === 'horizontal' && pageX < offsetLeft))) {\n                        return;\n                    }\n                    if (placeholderIndex > thisIndex &&\n                        ((options.orientation === 'vertical' && pageY > offsetTop + thisHeight - deadZoneVertical) ||\n                            (options.orientation === 'horizontal' && pageX > offsetLeft + thisWidth - deadZoneHorizontal))) {\n                        return;\n                    }\n                }\n                if (dragging.oldDisplay === undefined) {\n                    dragging.oldDisplay = dragging.style.display;\n                }\n                if (dragging.style.display !== 'none') {\n                    dragging.style.display = 'none';\n                }\n                // To avoid flicker, determine where to position the placeholder\n                // based on where the mouse pointer is relative to the elements\n                // vertical center.\n                var placeAfter = false;\n                try {\n                    var elementMiddleVertical = _offset(element).top + element.offsetHeight / 2;\n                    var elementMiddleHorizontal = _offset(element).left + element.offsetWidth / 2;\n                    placeAfter = (options.orientation === 'vertical' && (pageY >= elementMiddleVertical)) ||\n                        (options.orientation === 'horizontal' && (pageX >= elementMiddleHorizontal));\n                }\n                catch (e) {\n                    placeAfter = placeholderIndex < thisIndex;\n                }\n                if (placeAfter) {\n                    insertAfter(element, store(sortableElement).placeholder);\n                }\n                else {\n                    insertBefore(element, store(sortableElement).placeholder);\n                }\n                // get placeholders from all stores & remove all but current one\n                Array.from(stores.values())\n                    // remove empty values\n                    .filter(function (data) { return data.placeholder !== undefined; })\n                    // foreach placeholder in array if outside of current sorableContainer -> remove from DOM\n                    .forEach(function (data) {\n                    if (data.placeholder !== store(sortableElement).placeholder) {\n                        data.placeholder.remove();\n                    }\n                });\n            }\n            else {\n                // get all placeholders from store\n                var placeholders = Array.from(stores.values())\n                    .filter(function (data) { return data.placeholder !== undefined; })\n                    .map(function (data) {\n                    return data.placeholder;\n                });\n                // check if element is not in placeholders\n                if (placeholders.indexOf(element) === -1 && sortableElement === element && !_filter(element.children, options.items).length) {\n                    placeholders.forEach(function (element) { return element.remove(); });\n                    element.appendChild(store(sortableElement).placeholder);\n                }\n            }\n        }, options.debounce);\n        // Handle dragover and dragenter events on draggable items\n        var onDragOverEnter = function (e) {\n            var element = e.target;\n            var sortableElement = element.isSortable === true ? element : findSortable(element, e);\n            element = findDragElement(sortableElement, element);\n            if (!dragging || !_listsConnected(sortableElement, dragging.parentElement) || addData(sortableElement, '_disabled') === 'true') {\n                return;\n            }\n            var options = addData(sortableElement, 'opts');\n            if (parseInt(options.maxItems) && _filter(sortableElement.children, addData(sortableElement, 'items')).length >= parseInt(options.maxItems) && dragging.parentElement !== sortableElement) {\n                return;\n            }\n            e.preventDefault();\n            e.stopPropagation();\n            e.dataTransfer.dropEffect = store(sortableElement).getConfig('copy') === true ? 'copy' : 'move';\n            debouncedDragOverEnter(sortableElement, element, e.pageX, e.pageY);\n        };\n        addEventListener(listItems.concat(sortableElement), 'dragover', onDragOverEnter);\n        addEventListener(listItems.concat(sortableElement), 'dragenter', onDragOverEnter);\n    });\n    return sortableElements;\n}\nsortable.destroy = function (sortableElement) {\n    _destroySortable(sortableElement);\n};\nsortable.enable = function (sortableElement) {\n    _enableSortable(sortableElement);\n};\nsortable.disable = function (sortableElement) {\n    _disableSortable(sortableElement);\n};\n/* START.TESTS_ONLY */\nsortable.__testing = {\n    // add internal methods here for testing purposes\n    _data: addData,\n    _removeItemEvents: _removeItemEvents,\n    _removeItemData: _removeItemData,\n    _removeSortableData: _removeSortableData,\n    _removeContainerEvents: _removeContainerEvents\n};\n\nexport default sortable;\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/ExtensionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Switch'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Select'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/withAttr'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","import app from 'flarum/admin/app';\nimport Component from 'flarum/common/Component';\nimport icon from 'flarum/common/helpers/icon';\n\n/* global m */\n\nexport default class SelectFieldOptionEditor extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.newOption = '';\n  }\n\n  view() {\n    return m('.Form-group', [\n      m('label', app.translator.trans('fof-masquerade.admin.fields.options')),\n      m(\n        'table',\n        m(\n          'tbody',\n          this.options().map((option, optionIndex) =>\n            m('tr', [\n              m(\n                'td',\n                m('input[type=text].FormControl', {\n                  oninput: (event) => {\n                    this.updateOption(optionIndex, event.target.value);\n                  },\n                  value: option,\n                })\n              ),\n              m(\n                'td',\n                m(\n                  'button.Button',\n                  {\n                    onclick: () => {\n                      this.moveOption(optionIndex, -1);\n                    },\n                  },\n                  icon('fas fa-chevron-up')\n                )\n              ),\n              m(\n                'td',\n                m(\n                  'button.Button',\n                  {\n                    onclick: () => {\n                      this.moveOption(optionIndex, 1);\n                    },\n                  },\n                  icon('fas fa-chevron-down')\n                )\n              ),\n              m(\n                'td',\n                m(\n                  'button.Button.Button--danger',\n                  {\n                    onclick: () => {\n                      this.deleteOption(optionIndex);\n                    },\n                  },\n                  icon('fas fa-times')\n                )\n              ),\n            ])\n          )\n        )\n      ),\n      m('.helpText', app.translator.trans('fof-masquerade.admin.fields.option-comma-warning')),\n      m(\n        'table',\n        m('tbody'),\n        m('tr', [\n          m(\n            'td',\n            m('input[type=text].FormControl', {\n              onchange: (event) => {\n                this.newOption = event.target.value;\n              },\n              value: this.newOption,\n              placeholder: app.translator.trans('fof-masquerade.admin.fields.option-new'),\n            })\n          ),\n          m(\n            'td',\n            m(\n              'button.Button.Button--primary',\n              {\n                onclick: () => {\n                  this.addOption();\n                },\n              },\n              icon('fas fa-plus')\n            )\n          ),\n        ])\n      ),\n    ]);\n  }\n\n  updateRules(options) {\n    // We ignore other existing rules, they would probably be leftovers from another field type when changing types\n    this.attrs.onchange('in:' + options.join(','));\n  }\n\n  options() {\n    const rules = this.attrs.value.split('|');\n\n    let options = [];\n\n    rules.forEach((rule) => {\n      const parts = rule.split(':', 2);\n\n      if (parts[0] === 'in') {\n        options = parts[1].split(',');\n      }\n    });\n\n    return options;\n  }\n\n  updateOption(index, value) {\n    let options = this.options();\n\n    options[index] = value;\n\n    this.updateRules(options);\n  }\n\n  moveOption(index, moveIndex) {\n    let options = this.options();\n\n    const newIndex = index + moveIndex;\n\n    if (newIndex < 0 || newIndex > options.length - 1) {\n      return;\n    }\n\n    const move = options.splice(index, 1);\n\n    options.splice(newIndex, 0, move[0]);\n\n    this.updateRules(options);\n  }\n\n  deleteOption(index) {\n    let options = this.options();\n\n    options.splice(index, 1);\n\n    this.updateRules(options);\n  }\n\n  addOption() {\n    if (this.newOption === '') {\n      return;\n    }\n\n    let options = this.options();\n\n    options.push(this.newOption);\n\n    this.newOption = '';\n\n    this.updateRules(options);\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","import app from 'flarum/admin/app';\nimport Button from 'flarum/common/components/Button';\nimport Switch from 'flarum/common/components/Switch';\nimport Select from 'flarum/common/components/Select';\nimport withAttr from 'flarum/common/utils/withAttr';\nimport SelectFieldOptionEditor from './SelectFieldOptionEditor';\nimport icon from 'flarum/common/helpers/icon';\nimport ItemList from 'flarum/common/utils/ItemList';\n\nexport default class FieldEdit {\n  view(vnode) {\n    const { field, loading, onUpdate } = vnode.attrs;\n    const exists = field.id();\n\n    return (\n      <fieldset className=\"Field\" data-id={field.id()} key={field.id()}>\n        <legend>\n          {exists ? (\n            <Button className=\"Button Button--icon Button--danger\" icon=\"fas fa-trash\" onclick={() => this.deleteField(field, onUpdate)} />\n          ) : null}\n          <span className=\"Field-toggle\" onclick={(e) => this.toggleField(e)}>\n            {app.translator.trans('fof-masquerade.admin.fields.' + (exists ? 'edit' : 'add'), {\n              field: field.name(),\n            })}\n            {icon('fas fa-caret-down')}\n          </span>\n        </legend>\n        <div className=\"Field-body\">{this.fieldItems(field, onUpdate).toArray()}</div>\n      </fieldset>\n    );\n  }\n\n  fieldItems(field, onUpdate) {\n    const fields = new ItemList();\n\n    fields.add(\n      'name',\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('fof-masquerade.admin.fields.name')}</label>\n        <input className=\"FormControl\" value={field.name()} oninput={withAttr('value', this.updateExistingFieldInput.bind(this, 'name', field))} />\n        <span className=\"helpText\">{app.translator.trans('fof-masquerade.admin.fields.name-help')}</span>\n      </div>,\n      100\n    );\n\n    fields.add(\n      'description',\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('fof-masquerade.admin.fields.description')}</label>\n        <input\n          className=\"FormControl\"\n          value={field.description()}\n          oninput={withAttr('value', this.updateExistingFieldInput.bind(this, 'description', field))}\n        />\n        <span className=\"helpText\">{app.translator.trans('fof-masquerade.admin.fields.description-help')}</span>\n      </div>,\n      90\n    );\n\n    fields.add(\n      'icon',\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('fof-masquerade.admin.fields.icon')}</label>\n        <input className=\"FormControl\" value={field.icon()} oninput={withAttr('value', this.updateExistingFieldInput.bind(this, 'icon', field))} />\n        <span className=\"helpText\">\n          {app.translator.trans('fof-masquerade.admin.fields.icon-help', {\n            a: <a href=\"https://fontawesome.com/icons?m=free\" target=\"_blank\" />,\n          })}\n        </span>\n      </div>,\n      80\n    );\n\n    fields.add(\n      'on_bio',\n      <div className=\"Form-group\">\n        <Switch state={field.on_bio()} onchange={this.updateExistingFieldInput.bind(this, 'on_bio', field)}>\n          {app.translator.trans('fof-masquerade.admin.fields.on_bio')}\n        </Switch>\n      </div>,\n      70\n    );\n\n    fields.add(\n      'required',\n      <div className=\"Form-group\">\n        <Switch state={field.required()} onchange={this.updateExistingFieldInput.bind(this, 'required', field)}>\n          {app.translator.trans('fof-masquerade.admin.fields.required')}\n        </Switch>\n      </div>,\n      60\n    );\n\n    fields.add(\n      'type',\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('fof-masquerade.admin.fields.type')}</label>\n        <Select\n          onchange={(value) => {\n            if (value === 'null') {\n              value = null;\n            }\n            this.updateExistingFieldInput('type', field, value);\n          }}\n          options={this.availableTypes()}\n          value={field.type()}\n        />\n      </div>,\n      50\n    );\n\n    if (field.type() === 'select') {\n      fields.add(\n        'select_options',\n        <SelectFieldOptionEditor\n          onchange={(value) => {\n            this.updateExistingFieldInput('validation', field, value);\n          }}\n          value={field.validation()}\n        />,\n        40\n      );\n    }\n\n    if (field.type() === null) {\n      fields.add(\n        'validation',\n        <div className=\"Form-group\">\n          <label>{app.translator.trans('fof-masquerade.admin.fields.validation')}</label>\n          <input\n            className=\"FormControl\"\n            value={field.validation()}\n            oninput={withAttr('value', this.updateExistingFieldInput.bind(this, 'validation', field))}\n          />\n          <span className=\"helpText\">\n            {app.translator.trans('fof-masquerade.admin.fields.validation-help', {\n              a: <a href=\"https://laravel.com/docs/5.2/validation#available-validation-rules\" target=\"_blank\" />,\n            })}\n          </span>\n        </div>,\n        30\n      );\n    }\n\n    fields.add(\n      'actions',\n      <div className=\"Form-group\">\n        <div className=\"ButtonGroup\">\n          <Button\n            className=\"Button Button--primary\"\n            loading={this.loading}\n            disabled={!this.readyToAdd(field)}\n            onclick={field.id() ? this.updateExistingField.bind(this, field, onUpdate) : this.submitAddField.bind(this, field, onUpdate)}\n          >\n            {app.translator.trans('fof-masquerade.admin.buttons.' + (field.id() ? 'edit' : 'add') + '-field')}\n          </Button>\n          {field.id() ? (\n            <Button className=\"Button Button--danger\" loading={this.loading} onclick={this.deleteField.bind(this, field, onUpdate)}>\n              {app.translator.trans('fof-masquerade.admin.buttons.delete-field')}\n            </Button>\n          ) : null}\n        </div>\n      </div>,\n      20\n    );\n\n    return fields;\n  }\n\n  updateExistingFieldInput(what, field, value) {\n    field.pushAttributes({\n      [what]: value,\n    });\n  }\n\n  deleteField(field, onUpdate) {\n    field.delete().then(onUpdate);\n  }\n\n  toggleField(e) {\n    $(e.target).parents('.Field').toggleClass('active');\n  }\n\n  submitAddField(field, onUpdate, e) {\n    e.preventDefault();\n\n    field.save(field.data.attributes).then(() => {\n      onUpdate();\n      this.resetNewField();\n    });\n\n    m.redraw();\n  }\n\n  updateExistingField(field, onUpdate) {\n    if (!field.id()) return;\n\n    field.save(field.data.attributes).then(onUpdate);\n  }\n\n  resetNewField() {\n    this.newField = app.store.createRecord('masquerade-field', {\n      attributes: {\n        name: '',\n        description: '',\n        prefix: '',\n        icon: '',\n        required: false,\n        on_bio: false,\n        type: null,\n        validation: '',\n      },\n    });\n    m.redraw();\n  }\n\n  readyToAdd(field) {\n    return !!field.name();\n  }\n\n  availableTypes() {\n    return {\n      url: app.translator.trans('fof-masquerade.admin.types.url'),\n      email: app.translator.trans('fof-masquerade.admin.types.email'),\n      boolean: app.translator.trans('fof-masquerade.admin.types.boolean'),\n      select: app.translator.trans('fof-masquerade.admin.types.select'),\n      null: app.translator.trans('fof-masquerade.admin.types.advanced'),\n    };\n  }\n}\n","import FieldEdit from './FieldEdit';\n\nimport type { Vnode } from 'mithril';\nimport type Field from '../../lib/models/Field';\n\ninterface FieldListAttrs {\n  existing: Field[];\n  new: Field;\n  loading: boolean;\n  onUpdate: () => void;\n}\n\nexport default class FieldList {\n  view(vnode: Vnode<FieldListAttrs>) {\n    const { existing, new: newField, loading, onUpdate } = vnode.attrs;\n\n    return m(\n      'form.js-sortable-fields',\n      existing.map((field: Field) => {\n        return m(FieldEdit, { field, loading, onUpdate });\n      }),\n      m(FieldEdit, { field: newField, loading, onUpdate })\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/utils/saveSettings'];","import sortable from 'html5sortable/dist/html5sortable.es.js';\n\nimport app from 'flarum/admin/app';\nimport ExtensionPage from 'flarum/admin/components/ExtensionPage';\nimport Switch from 'flarum/common/components/Switch';\nimport FieldList from './FieldList';\nimport saveSettings from 'flarum/admin/utils/saveSettings';\n\n/* global m, $ */\n\nexport default class MasqueradePage extends ExtensionPage {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.resetNew();\n    this.loading = false;\n    this.existing = [];\n    this.loadExisting();\n    this.enforceProfileCompletion = app.data.settings['masquerade.force-profile-completion'] === '1';\n  }\n\n  config() {\n    sortable(this.element.querySelector('.js-sortable-fields'), {\n      handle: 'legend',\n    })[0].addEventListener('sortupdate', () => {\n      const sorting = this.$('.js-sortable-fields > .Field')\n        .map(function () {\n          return $(this).data('id');\n        })\n        .get();\n\n      this.updateSort(sorting);\n    });\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n    this.config();\n  }\n\n  onupdate() {\n    this.config();\n  }\n\n  content() {\n    return m(\n      '.ExtensionPage-settings.ProfileConfigurePane',\n      m('.container', [\n        m('h2', app.translator.trans('fof-masquerade.admin.general-options')),\n        m(\n          '.Form-group',\n          Switch.component(\n            {\n              state: this.enforceProfileCompletion,\n              onchange: (value) => {\n                const saveValue = value ? '1' : '0';\n                saveSettings({\n                  'masquerade.force-profile-completion': saveValue,\n                });\n                this.enforceProfileCompletion = saveValue;\n              },\n            },\n            app.translator.trans('fof-masquerade.admin.fields.force-user-to-completion')\n          )\n        ),\n        m('h2', app.translator.trans('fof-masquerade.admin.fields.title')),\n        m(FieldList, { existing: this.existing, new: this.newField, loading: this.loading, onUpdate: this.requestSuccess.bind(this) }),\n      ])\n    );\n  }\n\n  updateSort(sorting) {\n    app\n      .request({\n        method: 'POST',\n        url: app.forum.attribute('apiUrl') + '/masquerade/fields/order',\n        body: {\n          sort: sorting,\n        },\n      })\n      .then(this.requestSuccess.bind(this));\n  }\n\n  requestSuccess() {\n    this.loadExisting();\n    this.resetNew();\n    m.redraw();\n  }\n\n  loadExisting() {\n    this.loading = true;\n\n    return app\n      .request({\n        method: 'GET',\n        url: app.forum.attribute('apiUrl') + '/masquerade/fields',\n      })\n      .then((result) => {\n        app.store.pushPayload(result);\n        this.existing = app.store.all('masquerade-field');\n        this.existing.sort((a, b) => a.sort() - b.sort());\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  resetNew() {\n    this.newField = app.store.createRecord('masquerade-field', {\n      attributes: {\n        name: '',\n        description: '',\n        prefix: '',\n        icon: '',\n        required: false,\n        on_bio: false,\n        type: null,\n        validation: '',\n      },\n    });\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extenders'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\n\nexport default class Field extends Model {\n  name = Model.attribute('name');\n  description = Model.attribute('description');\n  type = Model.attribute('type');\n  validation = Model.attribute('validation');\n  required = Model.attribute('required');\n  prefix = Model.attribute('prefix');\n  icon = Model.attribute('icon');\n  sort = Model.attribute('sort');\n  deleted_at = Model.attribute('deleted_at', Model.transformDate);\n  answer = Model.hasOne('answer');\n  on_bio = Model.attribute('on_bio');\n\n  apiEndpoint() {\n    return '/masquerade/fields' + (this.exists ? '/' + this.data.id : '');\n  }\n}\n","import Extend from 'flarum/common/extenders';\nimport Field from '../lib/models/Field';\n\nexport default [\n  new Extend.Store() //\n    .add('masquerade-field', Field),\n];\n","import { default as commonExtend } from '../common/extend';\n\nexport default [...commonExtend];\n","import FieldEdit from './FieldEdit';\nimport FieldList from './FieldList';\nimport MasqueradePage from './MasqueradePage';\nimport SelectFieldOptionEditor from './SelectFieldOptionEditor';\n\nexport const components = {\n  FieldList,\n  FieldEdit,\n  MasqueradePage,\n  SelectFieldOptionEditor,\n};\n","import app from 'flarum/admin/app';\nimport MasqueradePage from './components/MasqueradePage';\n\napp.initializers.add('fof-masquerade', () => {\n  app.extensionData\n    .for('fof-masquerade')\n    .registerPage(MasqueradePage)\n    .registerPermission(\n      {\n        icon: 'far fa-id-card',\n        label: app.translator.trans('fof-masquerade.admin.permissions.view-profile'),\n        permission: 'fof.masquerade.view-profile',\n        allowGuest: true,\n      },\n      'view'\n    )\n    .registerPermission(\n      {\n        icon: 'far fa-id-card',\n        label: app.translator.trans('fof-masquerade.admin.permissions.have-profile'),\n        permission: 'fof.masquerade.have-profile',\n      },\n      'start'\n    )\n    .registerPermission(\n      {\n        icon: 'far fa-id-card',\n        label: app.translator.trans('fof-masquerade.admin.permissions.edit-others-profile'),\n        permission: 'fof.masquerade.edit-others-profile',\n      },\n      'moderate'\n    );\n});\n\nexport { default as extend } from './extend';\nexport * from './components';\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","_inheritsLoose","create","constructor","addData","element","undefined","h5s","data","_filter","nodes","selector","NodeList","HTMLCollection","Array","Error","from","filter","item","nodeType","matches","stores","Map","Store","this","_config","_placeholder","_data","config","forEach","set","mergedConfig","assign","entries","configurable","setConfig","has","getConfig","placeholder","HTMLElement","setData","getData","deleteData","store","sortableElement","addEventListener","eventName","callback","i","length","removeEventListener","addAttribute","attribute","setAttribute","removeAttribute","dragging","draggingHeight","draggingWidth","originContainer","originIndex","originElementIndex","originItemsBeforeUpdate","previousContainer","destinationItemsBeforeUpdate","_offset","parentElement","getClientRects","rect","left","window","pageXOffset","right","top","pageYOffset","bottom","_index","elementList","indexOf","isInDom","parentNode","insertNode","referenceNode","newElement","position","insertBefore","nextElementSibling","insertAfter","target","_getElementHeight","style","getComputedStyle","getPropertyValue","parseInt","map","int","isNaN","reduce","sum","_getElementWidth","_getHandles","items","querySelector","shadowRoot","getEventTarget","event","composedPath","defaultDragImage","draggedElement","elementOffset","posX","pageX","posY","pageY","_listsConnected","destination","origin","isSortable","acceptFrom","split","sel","defaultConfiguration","connectWith","disableIEFix","copy","placeholderClass","draggingClass","hoverClass","dropTargetContainerClass","debounce","throttleTime","maxItems","itemSerializer","containerSerializer","customDragImage","orientation","_removeItemEvents","_removeContainerEvents","_removeSortableData","sortable","_removeItemData","findSortable","find","el","findDragElement","options","itemlist","children","ele","contains","_enableSortable","opts","handles","handle","document","createElement","dragDrop","parent","sortableElements","method","String","querySelectorAll","slice","test","sortableContainer","customItemSerializer","customContainerSerializer","serializedItem","serializedContainer","serializedItems","node","html","outerHTML","index","container","itemCount","_serialize","configKey","console","warn","_reloadSortable","customPlaceholder","listItems","tempContainer","tagName","appendChild","innerHTML","_a","includes","classList","add","apply","_makePlaceholder","enable","hoverClasses_1","fn","threshold","_this","lastEventTimestamp","args","_i","arguments","now","Date","_throttle","buttons","_b","remove","enableHoverClass","stopImmediatePropagation","getAttribute","dragItem","Event","dataTransfer","setDragImage","dragImage","effectAllowed","id","draggedItem","ditem","cloneNode","display","oldDisplay","_getDragging","dispatchEvent","CustomEvent","detail","elementIndex","originalTarget","itemsBeforeUpdate","outTarget","relatedTarget","fromElement","currentTarget","visiblePlaceholder","values","preventDefault","stopPropagation","originItems","destinationContainer","destinationItems","destinationElementIndex","destinationIndex","func","wait","timeout","debouncedDragOverEnter","forcePlaceholderSize","height","width","thisHeight","thisWidth","placeholderIndex","thisIndex","deadZoneVertical","deadZoneHorizontal","offsetTop","offsetLeft","placeAfter","elementMiddleVertical","offsetHeight","elementMiddleHorizontal","offsetWidth","placeholders","clearTimeout","setTimeout","onDragOverEnter","dropEffect","concat","destroy","_destroySortable","disable","_disableSortable","__testing","SelectFieldOptionEditor","_Component","_proto","oninit","vnode","newOption","view","m","app","trans","option","optionIndex","oninput","updateOption","onclick","moveOption","icon","deleteOption","onchange","addOption","updateRules","attrs","join","rules","rule","parts","moveIndex","newIndex","move","splice","push","Component","FieldEdit","_vnode$attrs","field","onUpdate","loading","exists","className","Button","deleteField","toggleField","name","fieldItems","toArray","_this2","fields","ItemList","withAttr","updateExistingFieldInput","description","href","Switch","state","on_bio","required","Select","availableTypes","type","validation","disabled","readyToAdd","updateExistingField","submitAddField","what","_field$pushAttributes","pushAttributes","then","$","parents","toggleClass","_this3","save","attributes","resetNewField","redraw","newField","createRecord","prefix","url","email","boolean","select","null","FieldList","existing","MasqueradePage","_ExtensionPage","resetNew","loadExisting","enforceProfileCompletion","settings","sorting","updateSort","oncreate","onupdate","content","saveValue","saveSettings","new","requestSuccess","body","sort","result","pushPayload","all","b","ExtensionPage","Field","_Model","_len","_key","Model","deleted_at","answer","apiEndpoint","Extend","commonExtend","components","registerPage","registerPermission","label","permission","allowGuest"],"sourceRoot":""}