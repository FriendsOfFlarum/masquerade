{"version":3,"sources":["webpack://@fof/masquerade/webpack/bootstrap","webpack://@fof/masquerade/./forum.js","webpack://@fof/masquerade/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@fof/masquerade/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@fof/masquerade/./src/forum/addProfilePane.js","webpack://@fof/masquerade/./src/forum/index.js","webpack://@fof/masquerade/./src/forum/mutateUserHero.js","webpack://@fof/masquerade/./src/forum/panes/ProfileConfigurePane.js","webpack://@fof/masquerade/./src/forum/panes/ProfilePane.js","webpack://@fof/masquerade/./src/forum/panes/RootMasqueradePane.tsx","webpack://@fof/masquerade/./src/forum/types/BaseField.js","webpack://@fof/masquerade/./src/forum/types/BooleanField.js","webpack://@fof/masquerade/./src/forum/types/EmailField.js","webpack://@fof/masquerade/./src/forum/types/SelectField.js","webpack://@fof/masquerade/./src/forum/types/TypeFactory.js","webpack://@fof/masquerade/./src/forum/types/UrlField.js","webpack://@fof/masquerade/./src/lib/models/Answer.js","webpack://@fof/masquerade/./src/lib/models/Field.js","webpack://@fof/masquerade/external \"flarum.core.compat['common/Component']\"","webpack://@fof/masquerade/external \"flarum.core.compat['common/Model']\"","webpack://@fof/masquerade/external \"flarum.core.compat['common/components/Button']\"","webpack://@fof/masquerade/external \"flarum.core.compat['common/components/Link']\"","webpack://@fof/masquerade/external \"flarum.core.compat['common/components/LinkButton']\"","webpack://@fof/masquerade/external \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@fof/masquerade/external \"flarum.core.compat['common/components/Select']\"","webpack://@fof/masquerade/external \"flarum.core.compat['common/extend']\"","webpack://@fof/masquerade/external \"flarum.core.compat['common/helpers/icon']\"","webpack://@fof/masquerade/external \"flarum.core.compat['common/models/User']\"","webpack://@fof/masquerade/external \"flarum.core.compat['forum/app']\"","webpack://@fof/masquerade/external \"flarum.core.compat['forum/components/UserCard']\"","webpack://@fof/masquerade/external \"flarum.core.compat['forum/components/UserPage']\""],"names":["_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","setPrototypeOf","_setPrototypeOf","o","p","__proto__","addProfilePane","app","routes","path","resolver","onmatch","forum","attribute","Error","RootMasqueradePane","extend","UserPage","items","user","canEditMasqueradeProfile","add","LinkButton","component","href","route","username","slug","icon","translator","trans","initializers","store","models","Field","Answer","User","bioFields","Model","hasMany","mutateUserHero","UserCard","answers","attrs","map","answer","field","type","TypeFactory","typeForField","value","content","answerField","ProfileConfigurePane","oninit","vnode","loading","enforceProfileCompletion","profileCompleted","profileNowCompleted","fields","load","dirty","view","update","bind","sort","a","b","hasOwnProperty","id","m","Link","set","editorField","request","method","url","then","parseResponse","e","preventDefault","body","response","redraw","pushPayload","Component","ProfilePane","userId","loadUser","param","pageContentComponent","show","BaseField","readAttribute","object","validationRules","split","validationRule","ruleName","ruleContent","forEach","rule","name","required","prefix","editorInput","description","editorInputAttrs","className","oninput","event","target","iconName","hasAnswer","answerContent","keys","length","isNoOptionSelectedValue","BooleanField","options","option","checked","selected","onclick","key","label","push","indexOf","EmailField","placeholder","email","segment","replace","join","Button","mailTo","window","location","NO_OPTION_SELECTED_KEY","Select","onchange","validationIn","identify","types","fieldAttribute","select","SelectField","UrlField","validation","identified","fieldType","trim","to","popup","open","hasOne","apiEndpoint","exists","data","deleted_at","transformDate","on_bio"],"mappings":";;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAA,wC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACe,SAASA,cAAT,CAAwBC,QAAxB,EAAkCC,UAAlC,EAA8C;AAC3DD,UAAQ,CAACE,SAAT,GAAqBC,MAAM,CAACC,MAAP,CAAcH,UAAU,CAACC,SAAzB,CAArB;AACAF,UAAQ,CAACE,SAAT,CAAmBG,WAAnB,GAAiCL,QAAjC;AACAM,oEAAc,CAACN,QAAD,EAAWC,UAAX,CAAd;AACD,C;;;;;;;;;;;;ACLD;AAAA;AAAe,SAASM,eAAT,CAAyBC,CAAzB,EAA4BC,CAA5B,EAA+B;AAC5CF,iBAAe,GAAGJ,MAAM,CAACG,cAAP,IAAyB,SAASC,eAAT,CAAyBC,CAAzB,EAA4BC,CAA5B,EAA+B;AACxED,KAAC,CAACE,SAAF,GAAcD,CAAd;AACA,WAAOD,CAAP;AACD,GAHD;;AAKA,SAAOD,eAAe,CAACC,CAAD,EAAIC,CAAJ,CAAtB;AACD,C;;;;;;;;;;;;ACPD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAEe,SAASE,cAAT,GAA0B;AACvCC,yDAAG,CAACC,MAAJ,CAAW,gBAAX,IAA+B;AAC7BC,QAAI,EAAE,yBADuB;AAE7BC,YAAQ,EAAE;AACRC,aADQ,qBACE;AACR,YAAI,CAACJ,uDAAG,CAACK,KAAJ,CAAUC,SAAV,CAAoB,mBAApB,CAAL,EAA+C,MAAM,IAAIC,KAAJ,EAAN;AAE/C,eAAOC,iEAAP;AACD;AALO;AAFmB,GAA/B;AAWAC,qEAAM,CAACC,uEAAQ,CAACpB,SAAV,EAAqB,UAArB,EAAiC,UAAUqB,KAAV,EAAiB;AACtD,QAAIX,uDAAG,CAACK,KAAJ,CAAUC,SAAV,CAAoB,mBAApB,KAA4C,KAAKM,IAAL,CAAUC,wBAAV,EAAhD,EAAsF;AACpFF,WAAK,CAACG,GAAN,CACE,YADF,EAEEC,0EAAU,CAACC,SAAX,CACE;AACEC,YAAI,EAAEjB,uDAAG,CAACkB,KAAJ,CAAU,gBAAV,EAA4B;AAAEC,kBAAQ,EAAE,KAAKP,IAAL,CAAUQ,IAAV;AAAZ,SAA5B,CADR;AAEEC,YAAI,EAAE;AAFR,OADF,EAKErB,uDAAG,CAACsB,UAAJ,CAAeC,KAAf,oCAAqD,KAAKX,IAAL,CAAUC,wBAAV,KAAuC,MAAvC,GAAgD,MAArG,eALF,CAFF,EASE,GATF;AAWD;AACF,GAdK,CAAN;AAeD,C;;;;;;;;;;;;AClCD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEAb,uDAAG,CAACwB,YAAJ,CAAiBV,GAAjB,CAAqB,gBAArB,EAAuC,UAACd,GAAD,EAAS;AAC9CA,KAAG,CAACyB,KAAJ,CAAUC,MAAV,CAAiB,kBAAjB,IAAuCC,yDAAvC;AACA3B,KAAG,CAACyB,KAAJ,CAAUC,MAAV,CAAiB,mBAAjB,IAAwCE,0DAAxC;AAEAC,kEAAI,CAACvC,SAAL,CAAewC,SAAf,GAA2BC,0DAAK,CAACC,OAAN,CAAc,WAAd,CAA3B;AACAH,kEAAI,CAACvC,SAAL,CAAeuB,wBAAf,GAA0CkB,0DAAK,CAACzB,SAAN,CAAgB,0BAAhB,CAA1C;AAEAP,iEAAc;AAEdkC,iEAAc;AACf,CAVD,E;;;;;;;;;;;;ACTA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEe,SAASA,cAAT,GAA0B;AACvCxB,qEAAM,CAACyB,uEAAQ,CAAC5C,SAAV,EAAqB,WAArB,EAAkC,UAAUqB,KAAV,EAAiB;AACvD,QAAMwB,OAAO,GAAGnC,GAAG,CAACK,KAAJ,CAAUC,SAAV,CAAoB,mBAApB,IAA2C,KAAK8B,KAAL,CAAWxB,IAAX,CAAgBkB,SAAhB,MAA+B,EAA1E,GAA+E,EAA/F;AAEAnB,SAAK,CAACG,GAAN,CACE,gBADF,EAEE,eACGqB,OAAO,CAACE,GAAR,CAAY,UAACC,MAAD,EAAY;AACvB,UAAMC,KAAK,GAAGD,MAAM,CAAChC,SAAP,CAAiB,OAAjB,CAAd;AACA,UAAMkC,IAAI,GAAGC,0DAAW,CAACC,YAAZ,CAAyB;AACpCH,aAAK,EAALA,KADoC;AAEpCI,aAAK,EAAEL,MAAM,CAACM,OAAP;AAF6B,OAAzB,CAAb;AAKA,aAAOJ,IAAI,CAACK,WAAL,EAAP;AACD,KARA,CADH,CAFF;AAcD,GAjBK,CAAN;AAkBD,C;;;;;;;;;;;;;;;;;;;;;;;;;ACvBD;AAEA;AACA;AACA;AACA;;IAEqBC,oB;;;;;;;;;SACnBC,M,GAAA,gBAAOC,KAAP,EAAc;AACZ,yBAAMD,MAAN,YAAaC,KAAb;;AACA,SAAKC,OAAL,GAAe,IAAf;AAEA,SAAKC,wBAAL,GAAgClD,uDAAG,CAACK,KAAJ,CAAUC,SAAV,CAAoB,qCAApB,KAA8D,KAA9F;AACA,SAAK6C,gBAAL,GAAwBnD,uDAAG,CAACK,KAAJ,CAAUC,SAAV,CAAoB,8BAApB,KAAuD,KAA/E;AACA,SAAK8C,mBAAL,GAA2B,KAA3B,CANY,CAMsB;;AAClC,SAAKC,MAAL,GAAc,EAAd;AACA,SAAKlB,OAAL,GAAe,EAAf;AACA,SAAKvB,IAAL,GAAY,KAAKwB,KAAL,CAAWxB,IAAvB;AACA,SAAK0C,IAAL,GAVY,CAYZ;AACA;;AACA,SAAKC,KAAL,GAAa,CAAC,KAAKJ,gBAAnB;AACD,G;;SAEDK,I,GAAA,gBAAO;AAAA;;AACL,WACE;AAAM,eAAM,sBAAZ;AAAmC,cAAQ,EAAE,KAAKC,MAAL,CAAYC,IAAZ,CAAiB,IAAjB;AAA7C,OACG,CAAC,EAAE,KAAKR,wBAAL,IAAiC,CAAC,KAAKC,gBAAzC,CAAD,IACC;AAAK,eAAM;AAAX,OAAiCnD,uDAAG,CAACsB,UAAJ,CAAeC,KAAf,CAAqB,yDAArB,CAAjC,CAFJ,EAKE;AAAK,eAAM;AAAX,OACG,KAAK8B,MAAL,CACEM,IADF,CACO,UAACC,CAAD,EAAIC,CAAJ;AAAA,aAAUD,CAAC,CAACD,IAAF,KAAWE,CAAC,CAACF,IAAF,EAArB;AAAA,KADP,EAEEtB,GAFF,CAEM,UAACE,KAAD,EAAW;AACd,UAAI,CAAC,KAAI,CAACJ,OAAL,CAAa2B,cAAb,CAA4BvB,KAAK,CAACwB,EAAN,EAA5B,CAAL,EAA8C;AAC5C,aAAI,CAAC5B,OAAL,CAAaI,KAAK,CAACwB,EAAN,EAAb,IAA2BxB,KAAK,CAACD,MAAN,KAAiBC,KAAK,CAACD,MAAN,GAAeM,OAAf,EAAjB,GAA4C,EAAvE;AACD;;AAED,aAAO,KAAI,CAACL,KAAL,CAAWA,KAAX,CAAP;AACD,KARF,CADH,CALF,EAiBE,EAAC,sEAAD;AAAQ,UAAI,EAAC,QAAb;AAAsB,eAAS,EAAC,wBAAhC;AAAyD,aAAO,EAAE,KAAKU,OAAvE;AAAgF,cAAQ,EAAE,CAAC,KAAKM;AAAhG,OACGvD,uDAAG,CAACsB,UAAJ,CAAeC,KAAf,CAAqB,2CAArB,CADH,CAjBF,EAqBG,CAAC,CAAC,KAAK6B,mBAAP,IACC;AAAM,eAAM;AAAZ,OACGpD,uDAAG,CAACsB,UAAJ,CAAeC,KAAf,CAAqB,+CAArB,EAAsE;AACrEqC,OAAC,EAAEI,CAAC,CAACC,oEAAD,EAAO;AACThD,YAAI,EAAEjB,uDAAG,CAACkB,KAAJ,CAAU,OAAV;AADG,OAAP;AADiE,KAAtE,CADH,CAtBJ,CADF;AAiCD,G;;SAEDqB,K,GAAA,eAAMA,MAAN,EAAa;AACX,QAAMC,IAAI,GAAGC,0DAAW,CAACC,YAAZ,CAAyB;AACpCH,WAAK,EAALA,MADoC;AAEpC2B,SAAG,EAAE,KAAKA,GAAL,CAASR,IAAT,CAAc,IAAd,EAAoBnB,MAApB,CAF+B;AAGpCI,WAAK,EAAE,KAAKR,OAAL,CAAaI,MAAK,CAACwB,EAAN,EAAb;AAH6B,KAAzB,CAAb;AAMA,WAAOvB,IAAI,CAAC2B,WAAL,EAAP;AACD,G;;SAEDb,I,GAAA,gBAAO;AACLtD,2DAAG,CACAoE,OADH,CACW;AACPC,YAAM,EAAE,KADD;AAEPC,SAAG,EAAEtE,uDAAG,CAACK,KAAJ,CAAUC,SAAV,CAAoB,QAApB,IAAgC,wBAAhC,GAA2D,KAAKM,IAAL,CAAUmD,EAAV;AAFzD,KADX,EAKGQ,IALH,CAKQ,KAAKC,aAAL,CAAmBd,IAAnB,CAAwB,IAAxB,CALR;AAMD,G;;SAEDQ,G,GAAA,aAAI3B,KAAJ,EAAWI,KAAX,EAAkB;AAChB,SAAKR,OAAL,CAAaI,KAAK,CAACwB,EAAN,EAAb,IAA2BpB,KAA3B;AACA,SAAKY,KAAL,GAAa,IAAb;AACD,G;;SAEDE,M,GAAA,gBAAOgB,CAAP,EAAU;AAAA;;AACRA,KAAC,CAACC,cAAF;AAEA,SAAKzB,OAAL,GAAe,IAAf;AAEAjD,2DAAG,CACAoE,OADH,CACW;AACPC,YAAM,EAAE,MADD;AAEPC,SAAG,EAAEtE,uDAAG,CAACK,KAAJ,CAAUC,SAAV,CAAoB,QAApB,IAAgC,wBAAhC,GAA2D,KAAKM,IAAL,CAAUmD,EAAV,EAFzD;AAGPY,UAAI,EAAE,KAAKxC;AAHJ,KADX,EAMGoC,IANH,CAMQ,UAACK,QAAD,EAAc;AAClB,YAAI,CAACrB,KAAL,GAAa,KAAb;;AACA,UAAI,CAAC,MAAI,CAACJ,gBAAV,EAA4B;AAC1B,cAAI,CAACA,gBAAL,GAAwB,IAAxB;AACA,cAAI,CAACC,mBAAL,GAA2B,IAA3B;AACD;;AAED,YAAI,CAACoB,aAAL,CAAmBI,QAAnB;AACD,KAdH,WAeS,YAAM;AACX,YAAI,CAAC3B,OAAL,GAAe,KAAf;AACAe,OAAC,CAACa,MAAF;AACD,KAlBH;AAmBD,G;;SAEDL,a,GAAA,uBAAcI,QAAd,EAAwB;AACtB,SAAKvB,MAAL,GAAcrD,uDAAG,CAACyB,KAAJ,CAAUqD,WAAV,CAAsBF,QAAtB,CAAd;AACA,SAAK3B,OAAL,GAAe,KAAf;AACAe,KAAC,CAACa,MAAF;AACD,G;;;EA5G+CE,8D;;;;;;;;;;;;;;;;;;;;;;;ACPlD;AAEA;AACA;;IAEqBC,W;;;;;;;;;SACnBjC,M,GAAA,gBAAOC,KAAP,EAAc;AACZ,yBAAMD,MAAN,YAAaC,KAAb;;AACA,SAAKC,OAAL,GAAe,IAAf;AAEA,SAAKI,MAAL,GAAc,EAAd;AACA,SAAKlB,OAAL,GAAe,EAAf;AACA,SAAKvB,IAAL,GAAY,KAAKwB,KAAL,CAAWxB,IAAvB;AAEA,SAAK0C,IAAL,CAAU,KAAK1C,IAAf;AACD,G;;SAED4C,I,GAAA,gBAAO;AAAA;;AACL,WACE;AAAK,eAAM;AAAX,OACE;AAAK,eAAM;AAAX,OACG,KAAKH,MAAL,CACEM,IADF,CACO,UAACC,CAAD,EAAIC,CAAJ;AAAA,aAAUD,CAAC,CAACD,IAAF,KAAWE,CAAC,CAACF,IAAF,EAArB;AAAA,KADP,EAEEtB,GAFF,CAEM,UAACE,KAAD,EAAW;AACd;AACA,WAAI,CAACJ,OAAL,CAAaI,KAAK,CAACwB,EAAN,EAAb,IAA2BxB,KAAK,CAACD,MAAN,MAAkBC,KAAK,CAACD,MAAN,GAAe2C,MAAf,MAA2B,KAAI,CAACrE,IAAL,CAAUmD,EAAV,EAA7C,GAA8DxB,KAAK,CAACD,MAAN,GAAeM,OAAf,EAA9D,GAAyF,IAApH;AAEA,aAAO,KAAI,CAACL,KAAL,CAAWA,KAAX,CAAP;AACD,KAPF,CADH,CADF,CADF;AAcD,G;;SAEDA,K,GAAA,eAAMA,MAAN,EAAa;AACX,QAAMC,IAAI,GAAGC,0DAAW,CAACC,YAAZ,CAAyB;AACpCH,WAAK,EAALA,MADoC;AAEpCI,WAAK,EAAE,KAAKR,OAAL,CAAaI,MAAK,CAACwB,EAAN,EAAb;AAF6B,KAAzB,CAAb;AAKA,WAAOvB,IAAI,CAACK,WAAL,EAAP;AACD,G;;SAEDS,I,GAAA,cAAK1C,IAAL,EAAW;AACTZ,2DAAG,CACAoE,OADH,CACW;AACPC,YAAM,EAAE,KADD;AAEPC,SAAG,EAAEtE,uDAAG,CAACK,KAAJ,CAAUC,SAAV,CAAoB,QAApB,IAAgC,sBAAhC,GAAyDM,IAAI,CAACmD,EAAL;AAFvD,KADX,EAKGQ,IALH,CAKQ,KAAKC,aAAL,CAAmBd,IAAnB,CAAwB,IAAxB,CALR;AAMD,G;;SAEDc,a,GAAA,uBAAcI,QAAd,EAAwB;AACtB,SAAKzC,OAAL,GAAe,EAAf;AACA,SAAKkB,MAAL,GAAcrD,uDAAG,CAACyB,KAAJ,CAAUqD,WAAV,CAAsBF,QAAtB,CAAd;AAEA,SAAK3B,OAAL,GAAe,KAAf;AACAe,KAAC,CAACa,MAAF;AACD,G;;;EArDsCE,8D;;;;;;;;;;;;;;;;;;;;;;;;ACLzC;AACA;AACA;AACA;;IAEqBvE,kB;;;;;;;;;;;UACnByC,O,GAAU,I;;;;;;SAEVF,M,GAAA,gBAAOC,KAAP,EAAc;AACZ,wBAAMD,MAAN,YAAaC,KAAb;;AAEA,SAAKkC,QAAL,CAAclB,CAAC,CAAC9C,KAAF,CAAQiE,KAAR,CAAc,UAAd,CAAd;AACD,G;;SAEDC,oB,GAAA,gCAAuB;AACrB,QAAI,CAAC,KAAKxE,IAAV,EAAgB,OAAO,IAAP;AAGhB,QAAI,KAAKA,IAAL,CAAUC,wBAAV,EAAJ,EAA0C,OAAO,EAAC,6DAAD;AAAsB,UAAI,EAAE,KAAKD;AAAjC,MAAP,CAA1C,KACK,OAAO,EAAC,oDAAD;AAAa,UAAI,EAAE,KAAKA;AAAxB,MAAP;AACN,G;;SAEDyE,I,GAAA,cAAKzE,IAAL,EAAW;AACT,wBAAMyE,IAAN,YAAWzE,IAAX;;AAEA,SAAKqC,OAAL,GAAe,KAAf;AACAe,KAAC,CAACa,MAAF;AACD,G;;SAEDjC,O,GAAA,mBAAU;AACR,WACE;AAAK,eAAM;AAAX,OACG,KAAKK,OAAL,IAAgB,EAAC,gFAAD,OADnB,EAEG,KAAKmC,oBAAL,EAFH,CADF;AAMD,G;;;EA/B6C1E,uE;;;;;;;;;;;;;;ACLhD;AAAA;AAAA;AAAA;AAAA;AAEA;;IAEqB4E,S;AACnB,2BAAmC;AAAA,QAArB/C,KAAqB,QAArBA,KAAqB;AAAA,QAAd2B,GAAc,QAAdA,GAAc;AAAA,QAATvB,KAAS,QAATA,KAAS;AACjC,SAAKJ,KAAL,GAAaA,KAAb;AACA,SAAK2B,GAAL,GAAWA,GAAX;AACA,SAAKvB,KAAL,GAAaA,KAAb;AACD;;;;SAED4C,a,GAAA,uBAAcC,MAAd,EAAsBlF,SAAtB,EAAiC;AAC/B,QAAI,OAAOkF,MAAM,CAAClF,SAAD,CAAb,KAA6B,UAAjC,EAA6C;AAC3C,aAAOkF,MAAM,CAAClF,SAAD,CAAN,EAAP;AACD;;AAED,WAAOkF,MAAM,CAAClF,SAAD,CAAb;AACD;AAED;AACF;AACA;AACA;;;SACEmF,e,GAAA,2BAAkB;AAChB,WAAO,KAAKF,aAAL,CAAmB,KAAKhD,KAAxB,EAA+B,YAA/B,EAA6CmD,KAA7C,CAAmD,GAAnD,CAAP;AACD;AAED;AACF;AACA;AACA;AACA;;;SACEC,c,GAAA,wBAAeC,QAAf,EAAyB;AACvB,QAAIC,WAAW,GAAG,IAAlB;AAEA,SAAKJ,eAAL,GAAuBK,OAAvB,CAA+B,UAACC,IAAD,EAAU;AACvC,UAAML,KAAK,GAAGK,IAAI,CAACL,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAd;;AAEA,UAAIA,KAAK,CAAC,CAAD,CAAL,KAAaE,QAAjB,EAA2B;AACzBC,mBAAW,GAAGH,KAAK,CAAC,CAAD,CAAnB;AACD;AACF,KAND;AAQA,WAAOG,WAAP;AACD,G;;SAED1B,W,GAAA,uBAAc;AACZ,WACE;AAAK,eAAM;AAAX,OACE,iBACG,KAAK5B,KAAL,CAAWlB,IAAX,KAAoB,CAACA,iEAAI,CAAC,KAAKkB,KAAL,CAAWlB,IAAX,EAAD,CAAL,EAA0B,GAA1B,CAApB,GAAqD,IADxD,OAC+D,KAAKkB,KAAL,CAAWyD,IAAX,EAD/D,OACmF,KAAKzD,KAAL,CAAW0D,QAAX,KAAwB,GAAxB,GAA8B,IADjH,CADF,EAKE;AAAK,eAAM;AAAX,OACG,KAAK1D,KAAL,CAAW2D,MAAX,KAAsBlC,CAAC,CAAC,SAAD,EAAY,KAAKzB,KAAL,CAAW2D,MAAX,EAAZ,CAAvB,GAA0D,IAD7D,EAEG,KAAKC,WAAL,EAFH,EAGG,KAAK5D,KAAL,CAAW6D,WAAX,KAA2B;AAAK,eAAM;AAAX,OAAuB,KAAK7D,KAAL,CAAW6D,WAAX,EAAvB,CAA3B,GAAoF,IAHvF,CALF,CADF;AAaD,G;;SAEDD,W,GAAA,uBAAc;AACZ,WAAO,WAAW,KAAKE,gBAAL,EAAX,CAAP;AACD,G;;SAEDA,gB,GAAA,4BAAmB;AAAA;;AACjB,WAAO;AACLC,eAAS,EAAE,aADN;AAELC,aAAO,EAAE,iBAACC,KAAD,EAAW;AAClB,aAAI,CAACtC,GAAL,CAASsC,KAAK,CAACC,MAAN,CAAa9D,KAAtB;AACD,OAJI;AAKLA,WAAK,EAAE,KAAKA,KALP;AAMLsD,cAAQ,EAAE,KAAK1D,KAAL,CAAW0D,QAAX;AANL,KAAP;AAQD,G;;SAEDpD,W,GAAA,uBAAc;AACZ,QAAM6D,QAAQ,GAAG,KAAKnB,aAAL,CAAmB,KAAKhD,KAAxB,EAA+B,MAA/B,CAAjB;AAEA,WACE;AAAK,eAAS,0BAAuB,KAAKoE,SAAL,KAAmB,EAAnB,GAAwB,4BAA/C;AAAd,OACE;AAAM,eAAM;AAAZ,OACGD,QAAQ,IAAI,aAAGrF,iEAAI,CAACqF,QAAD,CAAP,MADf,EAEG,KAAKnB,aAAL,CAAmB,KAAKhD,KAAxB,EAA+B,MAA/B,CAFH,OAE4C,GAF5C,CADF,EAKE;AAAM,eAAM;AAAZ,OAAqC,KAAKqE,aAAL,EAArC,CALF,CADF;AASD,G;;SAEDA,a,GAAA,yBAAgB;AACd,WAAO,KAAKjE,KAAZ;AACD,G;;SAEDgE,S,GAAA,qBAAY;AACV,QAAMC,aAAa,GAAG,KAAKA,aAAL,EAAtB;;AAEA,QAAIA,aAAa,KAAK,IAAtB,EAA4B;AAC1B,aAAO,KAAP;AACD;;AAED,QAAI,OAAOA,aAAP,KAAyB,QAA7B,EAAuC;AACrC,aAAO,CAAC,CAACrH,MAAM,CAACsH,IAAP,CAAYD,aAAZ,EAA2BE,MAApC;AACD;;AAED,WAAO,CAAC,EAACF,aAAD,YAACA,aAAa,CAAEE,MAAhB,CAAR;AACD,G;;YAEMC,uB,GAAP,iCAA+BpE,KAA/B,EAAsC;AACpC;AACA;AACA,WAAOA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,EAAnC;AACD,G;;;;;;;;;;;;;;;;;;;;;;;;ACjHH;AACA;;IAEqBqE,Y;;;;;;;;;SACnBb,W,GAAA,uBAAc;AAAA;;AACZ,WAAO,KAAKc,OAAL,GAAe5E,GAAf,CAAmB,UAAC6E,MAAD;AAAA,aACxBlD,CAAC,CACC,KADD,EAECA,CAAC,CAAC,OAAD,EAAU,CACTA,CAAC,CAAC,mBAAD,EAAsB;AACrBmD,eAAO,EAAED,MAAM,CAACE,QAAP,CAAgB,KAAI,CAACzE,KAArB,CADY;AAErB0E,eAAO,EAAE,mBAAM;AACb,eAAI,CAACnD,GAAL,CAASgD,MAAM,CAACI,GAAhB;AACD;AAJoB,OAAtB,CADQ,EAOT,MAAMJ,MAAM,CAACK,KAPJ,CAAV,CAFF,CADuB;AAAA,KAAnB,CAAP;AAcD,G;;SAEDN,O,GAAA,mBAAU;AACR,QAAIA,OAAO,GAAG,EAAd;;AAEA,QAAI,CAAC,KAAK1B,aAAL,CAAmB,KAAKhD,KAAxB,EAA+B,UAA/B,CAAL,EAAiD;AAC/C0E,aAAO,CAACO,IAAR,CAAa;AACXJ,gBAAQ,EAAE,kBAACzE,KAAD;AAAA,iBAAW2C,kDAAS,CAACyB,uBAAV,CAAkCpE,KAAlC,CAAX;AAAA,SADC;AAEX2E,WAAG,EAAE,IAFM;AAGXC,aAAK,EAAEvH,GAAG,CAACsB,UAAJ,CAAeC,KAAf,CAAqB,kDAArB;AAHI,OAAb;AAKD;;AAED0F,WAAO,CAACO,IAAR,CAAa;AACXJ,cAAQ,EAAE,kBAACzE,KAAD;AAAA,eAAW,CAAC,MAAD,EAAS,GAAT,EAAc,CAAd,EAAiB,IAAjB,EAAuB,KAAvB,EAA8B8E,OAA9B,CAAsC9E,KAAtC,MAAiD,CAAC,CAA7D;AAAA,OADC;AAEX2E,SAAG,EAAE,MAFM;AAGXC,WAAK,EAAEvH,GAAG,CAACsB,UAAJ,CAAeC,KAAf,CAAqB,yCAArB;AAHI,KAAb;AAMA0F,WAAO,CAACO,IAAR,CAAa;AACXJ,cAAQ,EAAE,kBAACzE,KAAD;AAAA,eAAW,CAAC,OAAD,EAAU,GAAV,EAAe,CAAf,EAAkB,KAAlB,EAAyB,IAAzB,EAA+B8E,OAA/B,CAAuC9E,KAAvC,MAAkD,CAAC,CAA9D;AAAA,OADC;AAEX2E,SAAG,EAAE,OAFM;AAGXC,WAAK,EAAEvH,GAAG,CAACsB,UAAJ,CAAeC,KAAf,CAAqB,wCAArB;AAHI,KAAb,EAjBQ,CAuBR;;AACA,QAAI,CAAC+D,kDAAS,CAACyB,uBAAV,CAAkC,KAAKpE,KAAvC,CAAD,IAAkD,CAAC,MAAD,EAAS,GAAT,EAAc,CAAd,EAAiB,IAAjB,EAAuB,KAAvB,EAA8B,OAA9B,EAAuC,GAAvC,EAA4C,CAA5C,EAA+C,KAA/C,EAAsD,IAAtD,EAA4D8E,OAA5D,CAAoE,KAAK9E,KAAzE,MAAoF,CAAC,CAA3I,EAA8I;AAC5IsE,aAAO,CAACO,IAAR,CAAa;AACXJ,gBAAQ,EAAE;AAAA,iBAAM,IAAN;AAAA,SADC;AAEXE,WAAG,EAAE,KAAK3E,KAFC;AAGX4E,aAAK,EAAE,eAAe,KAAK5E;AAHhB,OAAb;AAKD;;AAED,WAAOsE,OAAP;AACD,G;;SAEDL,a,GAAA,yBAAgB;AACd,QAAItB,kDAAS,CAACyB,uBAAV,CAAkC,KAAKpE,KAAvC,CAAJ,EAAmD;AACjD,aAAO,EAAP;AACD;;AAED,WAAO,CAAC,CAAD,EAAI,GAAJ,EAAS,IAAT,EAAe,MAAf,EAAuB,KAAvB,EAA8B8E,OAA9B,CAAsC,KAAK9E,KAA3C,MAAsD,CAAC,CAAvD,GACH,CAACtB,iEAAI,CAAC,qBAAD,CAAL,EAA8B,GAA9B,EAAmCrB,GAAG,CAACsB,UAAJ,CAAeC,KAAf,CAAqB,yCAArB,CAAnC,CADG,GAEH,CAACF,iEAAI,CAAC,eAAD,CAAL,EAAwB,GAAxB,EAA6BrB,GAAG,CAACsB,UAAJ,CAAeC,KAAf,CAAqB,wCAArB,CAA7B,CAFJ;AAGD,G;;;EA7DuC+D,kD;;;;;;;;;;;;;;;;;;;;;ACH1C;AACA;;IAEqBoC,U;;;;;;;;;SACnBrB,gB,GAAA,4BAAmB;AACjB,QAAIjE,KAAK,wBAASiE,gBAAT,WAAT;;AAEAjE,SAAK,CAACI,IAAN,GAAa,OAAb;AACAJ,SAAK,CAACuF,WAAN,GAAoB,iBAApB;AAEA,WAAOvF,KAAP;AACD,G;;SAEDwE,a,GAAA,yBAAgB;AAAA;;AACd,QAAMjE,KAAK,GAAG,KAAKA,KAAnB;;AAEA,QAAI,CAACA,KAAL,EAAY;AACV,aAAO,IAAP;AACD;;AAED,QAAMiF,KAAK,GAAGjF,KAAK,CAChB+C,KADW,CACL,MADK,EAEXrD,GAFW,CAEP,UAACwF,OAAD,EAAa;AAChB,aAAOA,OAAO,CAACC,OAAR,CAAgB,UAAhB,EAA4B,KAA5B,CAAP;AACD,KAJW,EAKXC,IALW,CAKN,GALM,CAAd;AAOA,WAAOC,sEAAM,CAAChH,SAAP,CACL;AACEqG,aAAO,EAAE;AAAA,eAAM,KAAI,CAACY,MAAL,EAAN;AAAA,OADX;AAEE3B,eAAS,EAAE,qBAFb;AAGEjF,UAAI,EAAE;AAHR,KADK,EAMLuG,KANK,CAAP;AAQD,G;;SAEDK,M,GAAA,kBAAS;AACPC,UAAM,CAACC,QAAP,GAAkB,YAAY,KAAKxF,KAAnC;AACD,G;;;EApCqC2C,kD;;;;;;;;;;;;;;;;;;;;;ACHxC;AACA;AAEA,IAAM8C,sBAAsB,GAAG,mCAA/B;;IAEqBV,U;;;;;;;;;SACnBvB,W,GAAA,uBAAc;AAAA;;AACZ,WAAOkC,sEAAM,CAACrH,SAAP,CAAiB;AACtBsH,cAAQ,EAAE,kBAAC3F,KAAD,EAAW;AACnB,YAAIA,KAAK,KAAKyF,sBAAd,EAAsC;AACpCzF,eAAK,GAAG,IAAR;AACD;;AAED,aAAI,CAACuB,GAAL,CAASvB,KAAT;AACD,OAPqB;AAQtBA,WAAK,EAAE2C,kDAAS,CAACyB,uBAAV,CAAkC,KAAKpE,KAAvC,IAAgDyF,sBAAhD,GAAyE,KAAKzF,KAR/D;AAStBsE,aAAO,EAAE,KAAKA,OAAL;AATa,KAAjB,CAAP;AAWD,G;;SAEDA,O,GAAA,mBAAU;AACR,QAAIA,OAAO,GAAG,EAAd;;AAEA,QAAI,CAAC,KAAK1B,aAAL,CAAmB,KAAKhD,KAAxB,EAA+B,UAA/B,CAAL,EAAiD;AAC/C0E,aAAO,CAACmB,sBAAD,CAAP,GAAkCpI,GAAG,CAACsB,UAAJ,CAAeC,KAAf,CAAqB,kDAArB,CAAlC;AACD,KAFD,MAEO,IAAI+D,kDAAS,CAACyB,uBAAV,CAAkC,KAAKpE,KAAvC,CAAJ,EAAmD;AACxDsE,aAAO,CAACmB,sBAAD,CAAP,GAAkCpI,GAAG,CAACsB,UAAJ,CAAeC,KAAf,CAAqB,kDAArB,CAAlC;AACD;;AAED,QAAMgH,YAAY,GAAG,KAAK5C,cAAL,CAAoB,IAApB,CAArB;;AAEA,QAAI4C,YAAJ,EAAkB;AAChBA,kBAAY,CAAC7C,KAAb,CAAmB,GAAnB,EAAwBI,OAAxB,CAAgC,UAACnD,KAAD,EAAW;AACzCsE,eAAO,CAACtE,KAAD,CAAP,GAAiBA,KAAjB;AACD,OAFD;AAGD;;AAED,QAAI,CAAC2C,kDAAS,CAACyB,uBAAV,CAAkC,KAAKpE,KAAvC,CAAD,IAAkD,OAAOsE,OAAO,CAAC,KAAKtE,KAAN,CAAd,KAA+B,WAArF,EAAkG;AAChGsE,aAAO,CAAC,KAAKtE,KAAN,CAAP,GAAsB,eAAe,KAAKA,KAA1C;AACD;;AAED,WAAOsE,OAAP;AACD,G;;;EArCqC3B,kD;;;;;;;;;;;;;;ACLxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;IAEqB7C,W;;;cACZC,Y,GAAP,4BAA2C;AAAA,QAArBH,KAAqB,QAArBA,KAAqB;AAAA,QAAd2B,GAAc,QAAdA,GAAc;AAAA,QAATvB,KAAS,QAATA,KAAS;AACzC,QAAI2D,SAAS,GAAGhB,kDAAhB;AAEA,QAAM9C,IAAI,GAAG,KAAKgG,QAAL,CAAcjG,KAAd,CAAb;;AAEA,QAAIC,IAAJ,EAAU;AACR8D,eAAS,GAAG,KAAKmC,KAAL,GAAajG,IAAb,CAAZ;AACD;;AAED,WAAO,IAAI8D,SAAJ,CAAc;AACnB/D,WAAK,EAALA,KADmB;AAEnB2B,SAAG,EAAHA,GAFmB;AAGnBvB,WAAK,EAALA;AAHmB,KAAd,CAAP;AAKD,G;;cAEM+F,c,GAAP,wBAAsBnG,KAAtB,EAA6BjC,SAA7B,EAAwC;AACtC,QAAI,OAAOiC,KAAK,CAACjC,SAAD,CAAZ,KAA4B,UAAhC,EAA4C;AAC1C,aAAOiC,KAAK,CAACjC,SAAD,CAAL,EAAP;AACD;;AAED,WAAOiC,KAAK,CAACjC,SAAD,CAAZ;AACD,G;;cAEMmI,K,GAAP,iBAAe;AACb,WAAO;AACL,iBAASzB,qDADJ;AAELY,WAAK,EAAEF,mDAFF;AAGLiB,YAAM,EAAEC,oDAHH;AAILtE,SAAG,EAAEuE,iDAAQA;AAJR,KAAP;AAMD;AAED;AACF;AACA;AACA;;;cACSL,Q,GAAP,kBAAgBjG,KAAhB,EAAuB;AAAA;;AACrB,QAAMuG,UAAU,GAAG,CAAC,KAAKJ,cAAL,CAAoBnG,KAApB,EAA2B,YAA3B,KAA4C,EAA7C,EAAiDmD,KAAjD,CAAuD,GAAvD,CAAnB;AACA,QAAIqD,UAAU,GAAG,IAAjB,CAFqB,CAIrB;;AACA,QAAMC,SAAS,GAAG,KAAKN,cAAL,CAAoBnG,KAApB,EAA2B,MAA3B,CAAlB;;AACA,QAAI,OAAO,KAAKkG,KAAL,GAAaO,SAAb,CAAP,KAAmC,WAAvC,EAAoD;AAClD,aAAOA,SAAP;AACD,KARoB,CAUrB;;;AACAF,cAAU,CAAChD,OAAX,CAAmB,UAACC,IAAD,EAAU;AAC3BA,UAAI,GAAGA,IAAI,CAACkD,IAAL,EAAP;;AAEA,UAAI,OAAO,KAAI,CAACR,KAAL,GAAa1C,IAAb,CAAP,KAA8B,WAAlC,EAA+C;AAC7CgD,kBAAU,GAAGhD,IAAb;AACD;AACF,KAND;AAQA,WAAOgD,UAAP;AACD,G;;;;;;;;;;;;;;;;;;;;;;;;AChEH;AACA;;IAEqBF,Q;;;;;;;;;SACnBxC,gB,GAAA,4BAAmB;AACjB,QAAIjE,KAAK,wBAASiE,gBAAT,WAAT;;AAEAjE,SAAK,CAACI,IAAN,GAAa,KAAb;AACAJ,SAAK,CAACuF,WAAN,GAAoB,qBAApB;AAEA,WAAOvF,KAAP;AACD,G;;SAEDwE,a,GAAA,yBAAgB;AAAA;;AACd,QAAMjE,KAAK,GAAG,KAAKA,KAAnB;;AAEA,QAAI,CAACA,KAAL,EAAY;AACV,aAAO,IAAP;AACD;;AAED,WAAOqF,sEAAM,CAAChH,SAAP,CACL;AACEqG,aAAO,EAAE;AAAA,eAAM,KAAI,CAAC6B,EAAL,EAAN;AAAA,OADX;AAEE5C,eAAS,EAAE,qBAFb;AAGEjF,UAAI,EAAE;AAHR,KADK,EAMLsB,KAAK,CAACmF,OAAN,CAAc,cAAd,EAA8B,EAA9B,CANK,CAAP;AAQD,G;;SAEDoB,E,GAAA,cAAK;AACH,QAAMC,KAAK,GAAGjB,MAAM,CAACkB,IAAP,EAAd;AACAD,SAAK,CAAChB,QAAN,GAAiB,KAAKxF,KAAtB;AACD,G;;;EA9BmC2C,kD;;;;;;;;;;;;;;;;;;;;ACHtC;;IAEqB1D,M;;;;;;;;;;;UACnBgB,O,GAAUb,0DAAK,CAACzB,SAAN,CAAgB,SAAhB,C;UACViC,K,GAAQR,0DAAK,CAACsH,MAAN,CAAa,OAAb,C;UACRpE,M,GAASlD,0DAAK,CAACzB,SAAN,CAAgB,SAAhB,C;;;;;;SAETgJ,W,GAAA,uBAAc;AACZ,WAAO,2BAA2B,KAAKC,MAAL,GAAc,MAAM,KAAKC,IAAL,CAAUzF,EAA9B,GAAmC,EAA9D,CAAP;AACD,G;;;EAPiChC,0D;;;;;;;;;;;;;;;;;;;;ACFpC;;IAEqBJ,K;;;;;;;;;;;UACnBqE,I,GAAOjE,0DAAK,CAACzB,SAAN,CAAgB,MAAhB,C;UACP8F,W,GAAcrE,0DAAK,CAACzB,SAAN,CAAgB,aAAhB,C;UACdkC,I,GAAOT,0DAAK,CAACzB,SAAN,CAAgB,MAAhB,C;UACPwI,U,GAAa/G,0DAAK,CAACzB,SAAN,CAAgB,YAAhB,C;UACb2F,Q,GAAWlE,0DAAK,CAACzB,SAAN,CAAgB,UAAhB,C;UACX4F,M,GAASnE,0DAAK,CAACzB,SAAN,CAAgB,QAAhB,C;UACTe,I,GAAOU,0DAAK,CAACzB,SAAN,CAAgB,MAAhB,C;UACPqD,I,GAAO5B,0DAAK,CAACzB,SAAN,CAAgB,MAAhB,C;UACPmJ,U,GAAa1H,0DAAK,CAACzB,SAAN,CAAgB,YAAhB,EAA8ByB,0DAAK,CAAC2H,aAApC,C;UACbpH,M,GAASP,0DAAK,CAACsH,MAAN,CAAa,QAAb,C;UACTM,M,GAAS5H,0DAAK,CAACzB,SAAN,CAAgB,QAAhB,C;;;;;;SAETgJ,W,GAAA,uBAAc;AACZ,WAAO,wBAAwB,KAAKC,MAAL,GAAc,MAAM,KAAKC,IAAL,CAAUzF,EAA9B,GAAmC,EAA3D,CAAP;AACD,G;;;EAfgChC,0D;;;;;;;;;;;;;ACFnC,wD;;;;;;;;;;;ACAA,oD;;;;;;;;;;;ACAA,gE;;;;;;;;;;;ACAA,8D;;;;;;;;;;;ACAA,oE;;;;;;;;;;;ACAA,0E;;;;;;;;;;;ACAA,gE;;;;;;;;;;;ACAA,qD;;;;;;;;;;;ACAA,2D;;;;;;;;;;;ACAA,0D;;;;;;;;;;;ACAA,iD;;;;;;;;;;;ACAA,iE;;;;;;;;;;;ACAA,iE","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/forum';\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import app from 'flarum/forum/app';\n\nimport { extend } from 'flarum/common/extend';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport UserPage from 'flarum/forum/components/UserPage';\nimport RootMasqueradePane from './panes/RootMasqueradePane';\n\nexport default function addProfilePane() {\n  app.routes['fof-masquerade'] = {\n    path: '/u/:username/masquerade',\n    resolver: {\n      onmatch() {\n        if (!app.forum.attribute('canViewMasquerade')) throw new Error();\n\n        return RootMasqueradePane;\n      },\n    },\n  };\n\n  extend(UserPage.prototype, 'navItems', function (items) {\n    if (app.forum.attribute('canViewMasquerade') || this.user.canEditMasqueradeProfile()) {\n      items.add(\n        'masquerade',\n        LinkButton.component(\n          {\n            href: app.route('fof-masquerade', { username: this.user.slug() }),\n            icon: 'far fa-id-card',\n          },\n          app.translator.trans(`fof-masquerade.forum.buttons.${this.user.canEditMasqueradeProfile() ? 'edit' : 'view'}-profile`)\n        ),\n        200\n      );\n    }\n  });\n}\n","import app from 'flarum/forum/app';\nimport User from 'flarum/common/models/User';\nimport Field from './../lib/models/Field';\nimport Answer from './../lib/models/Answer';\nimport Model from 'flarum/common/Model';\n\nimport addProfilePane from './addProfilePane';\nimport mutateUserHero from './mutateUserHero';\n\napp.initializers.add('fof-masquerade', (app) => {\n  app.store.models['masquerade-field'] = Field;\n  app.store.models['masquerade-answer'] = Answer;\n\n  User.prototype.bioFields = Model.hasMany('bioFields');\n  User.prototype.canEditMasqueradeProfile = Model.attribute('canEditMasqueradeProfile');\n\n  addProfilePane();\n\n  mutateUserHero();\n});\n","import { extend } from 'flarum/common/extend';\nimport UserCard from 'flarum/forum/components/UserCard';\nimport TypeFactory from './types/TypeFactory';\n\nexport default function mutateUserHero() {\n  extend(UserCard.prototype, 'infoItems', function (items) {\n    const answers = app.forum.attribute('canViewMasquerade') ? this.attrs.user.bioFields() || [] : [];\n\n    items.add(\n      'masquerade-bio',\n      <div>\n        {answers.map((answer) => {\n          const field = answer.attribute('field');\n          const type = TypeFactory.typeForField({\n            field,\n            value: answer.content(),\n          });\n\n          return type.answerField();\n        })}\n      </div>\n    );\n  });\n}\n","import app from 'flarum/forum/app';\n\nimport Button from 'flarum/common/components/Button';\nimport Link from 'flarum/common/components/Link';\nimport TypeFactory from './../types/TypeFactory';\nimport Component from 'flarum/common/Component';\n\nexport default class ProfileConfigurePane extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.loading = true;\n\n    this.enforceProfileCompletion = app.forum.attribute('masquerade.force-profile-completion') || false;\n    this.profileCompleted = app.forum.attribute('masquerade.profile-completed') || false;\n    this.profileNowCompleted = false; // Show \"after required\" text\n    this.fields = [];\n    this.answers = {};\n    this.user = this.attrs.user;\n    this.load();\n\n    // Show disabled state if everything is saved\n    // Unless the profile isn't complete, in which case show enabled button so it's obvious you will need to save\n    this.dirty = !this.profileCompleted;\n  }\n\n  view() {\n    return (\n      <form class=\"ProfileConfigurePane\" onsubmit={this.update.bind(this)}>\n        {!!(this.enforceProfileCompletion && !this.profileCompleted) && (\n          <div class=\"Alert Alert--Error\">{app.translator.trans('fof-masquerade.forum.alerts.profile-completion-required')}</div>\n        )}\n\n        <div class=\"Fields\">\n          {this.fields\n            .sort((a, b) => a.sort() - b.sort())\n            .map((field) => {\n              if (!this.answers.hasOwnProperty(field.id())) {\n                this.answers[field.id()] = field.answer() ? field.answer().content() : '';\n              }\n\n              return this.field(field);\n            })}\n        </div>\n\n        <Button type=\"submit\" className=\"Button Button--primary\" loading={this.loading} disabled={!this.dirty}>\n          {app.translator.trans('fof-masquerade.forum.buttons.save-profile')}\n        </Button>\n\n        {!!this.profileNowCompleted && (\n          <span class=\"Masquerade-NowCompleted\">\n            {app.translator.trans('fof-masquerade.forum.alerts.profile-completed', {\n              a: m(Link, {\n                href: app.route('index'),\n              }),\n            })}\n          </span>\n        )}\n      </form>\n    );\n  }\n\n  field(field) {\n    const type = TypeFactory.typeForField({\n      field,\n      set: this.set.bind(this, field),\n      value: this.answers[field.id()],\n    });\n\n    return type.editorField();\n  }\n\n  load() {\n    app\n      .request({\n        method: 'GET',\n        url: app.forum.attribute('apiUrl') + '/masquerade/configure/' + this.user.id(),\n      })\n      .then(this.parseResponse.bind(this));\n  }\n\n  set(field, value) {\n    this.answers[field.id()] = value;\n    this.dirty = true;\n  }\n\n  update(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    app\n      .request({\n        method: 'POST',\n        url: app.forum.attribute('apiUrl') + '/masquerade/configure/' + this.user.id(),\n        body: this.answers,\n      })\n      .then((response) => {\n        this.dirty = false;\n        if (!this.profileCompleted) {\n          this.profileCompleted = true;\n          this.profileNowCompleted = true;\n        }\n\n        this.parseResponse(response);\n      })\n      .catch(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  parseResponse(response) {\n    this.fields = app.store.pushPayload(response);\n    this.loading = false;\n    m.redraw();\n  }\n}\n","import app from 'flarum/forum/app';\n\nimport Component from 'flarum/common/Component';\nimport TypeFactory from './../types/TypeFactory';\n\nexport default class ProfilePane extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.loading = true;\n\n    this.fields = [];\n    this.answers = {};\n    this.user = this.attrs.user;\n\n    this.load(this.user);\n  }\n\n  view() {\n    return (\n      <div class=\"Masquerade-Bio\">\n        <div class=\"Fields\">\n          {this.fields\n            .sort((a, b) => a.sort() - b.sort())\n            .map((field) => {\n              // UserID check must be done with == because userId() is number while id() is string\n              this.answers[field.id()] = field.answer() && field.answer().userId() == this.user.id() ? field.answer().content() : null;\n\n              return this.field(field);\n            })}\n        </div>\n      </div>\n    );\n  }\n\n  field(field) {\n    const type = TypeFactory.typeForField({\n      field,\n      value: this.answers[field.id()],\n    });\n\n    return type.answerField();\n  }\n\n  load(user) {\n    app\n      .request({\n        method: 'GET',\n        url: app.forum.attribute('apiUrl') + '/masquerade/profile/' + user.id(),\n      })\n      .then(this.parseResponse.bind(this));\n  }\n\n  parseResponse(response) {\n    this.answers = {};\n    this.fields = app.store.pushPayload(response);\n\n    this.loading = false;\n    m.redraw();\n  }\n}\n","import UserPage from 'flarum/forum/components/UserPage';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport ProfilePane from './ProfilePane';\nimport ProfileConfigurePane from './ProfileConfigurePane';\n\nexport default class RootMasqueradePane extends UserPage {\n  loading = true;\n\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.loadUser(m.route.param('username'));\n  }\n\n  pageContentComponent() {\n    if (!this.user) return null;\n    \n\n    if (this.user.canEditMasqueradeProfile()) return <ProfileConfigurePane user={this.user} />;\n    else return <ProfilePane user={this.user} />;\n  }\n\n  show(user) {\n    super.show(user);\n\n    this.loading = false;\n    m.redraw();\n  }\n\n  content() {\n    return (\n      <div class=\"MasqueradeRoot\">\n        {this.loading && <LoadingIndicator />}\n        {this.pageContentComponent()}\n      </div>\n    );\n  }\n}\n","import icon from 'flarum/common/helpers/icon';\n\n/* global m */\n\nexport default class BaseField {\n  constructor({ field, set, value }) {\n    this.field = field;\n    this.set = set;\n    this.value = value;\n  }\n\n  readAttribute(object, attribute) {\n    if (typeof object[attribute] === 'function') {\n      return object[attribute]();\n    }\n\n    return object[attribute];\n  }\n\n  /**\n   * Gets all Laravel validation rules split by rule\n   * @returns {Array}\n   */\n  validationRules() {\n    return this.readAttribute(this.field, 'validation').split('|');\n  }\n\n  /**\n   * Gets a Laravel validation rule by name\n   * @param {string} ruleName\n   * @returns {string|null}\n   */\n  validationRule(ruleName) {\n    let ruleContent = null;\n\n    this.validationRules().forEach((rule) => {\n      const split = rule.split(':', 2);\n\n      if (split[0] === ruleName) {\n        ruleContent = split[1];\n      }\n    });\n\n    return ruleContent;\n  }\n\n  editorField() {\n    return (\n      <div class=\"Form-group Field\">\n        <label>\n          {this.field.icon() ? [icon(this.field.icon()), ' '] : null} {this.field.name()} {this.field.required() ? '*' : null}\n        </label>\n\n        <div class=\"FormField\">\n          {this.field.prefix() ? m('.prefix', this.field.prefix()) : null}\n          {this.editorInput()}\n          {this.field.description() ? <div class=\"helpText\">{this.field.description()}</div> : null}\n        </div>\n      </div>\n    );\n  }\n\n  editorInput() {\n    return <input {...this.editorInputAttrs()} />;\n  }\n\n  editorInputAttrs() {\n    return {\n      className: 'FormControl',\n      oninput: (event) => {\n        this.set(event.target.value);\n      },\n      value: this.value,\n      required: this.field.required(),\n    };\n  }\n\n  answerField() {\n    const iconName = this.readAttribute(this.field, 'icon');\n\n    return (\n      <div className={`Masquerade-Bio-Set${this.hasAnswer() ? '' : ' Masquerade-Bio-Set--empty'}`}>\n        <span class=\"Masquerade-Bio-Field\">\n          {iconName && <>{icon(iconName)} </>}\n          {this.readAttribute(this.field, 'name')}:{' '}\n        </span>\n        <span class=\"Masquerade-Bio-Answer\">{this.answerContent()}</span>\n      </div>\n    );\n  }\n\n  answerContent() {\n    return this.value;\n  }\n\n  hasAnswer() {\n    const answerContent = this.answerContent();\n\n    if (answerContent === null) {\n      return false;\n    }\n\n    if (typeof answerContent === 'object') {\n      return !!Object.keys(answerContent).length;\n    }\n\n    return !!answerContent?.length;\n  }\n\n  static isNoOptionSelectedValue(value) {\n    // The value can be null when coming from the API\n    // The value can be '' when the field does not exist on the user (the empty string is set in ProfileConfigurePane)\n    return value === null || value === '';\n  }\n}\n","import icon from 'flarum/common/helpers/icon';\nimport BaseField from './BaseField';\n\nexport default class BooleanField extends BaseField {\n  editorInput() {\n    return this.options().map((option) =>\n      m(\n        'div',\n        m('label', [\n          m('input[type=radio]', {\n            checked: option.selected(this.value),\n            onclick: () => {\n              this.set(option.key);\n            },\n          }),\n          ' ' + option.label,\n        ])\n      )\n    );\n  }\n\n  options() {\n    let options = [];\n\n    if (!this.readAttribute(this.field, 'required')) {\n      options.push({\n        selected: (value) => BaseField.isNoOptionSelectedValue(value),\n        key: null,\n        label: app.translator.trans('fof-masquerade.forum.fields.select.none-optional'),\n      });\n    }\n\n    options.push({\n      selected: (value) => ['true', '1', 1, true, 'yes'].indexOf(value) !== -1,\n      key: 'true',\n      label: app.translator.trans('fof-masquerade.forum.fields.boolean.yes'),\n    });\n\n    options.push({\n      selected: (value) => ['false', '0', 0, false, 'no'].indexOf(value) !== -1,\n      key: 'false',\n      label: app.translator.trans('fof-masquerade.forum.fields.boolean.no'),\n    });\n\n    // This is probably overkill because it looks like the backend casts the value anyway\n    if (!BaseField.isNoOptionSelectedValue(this.value) && ['true', '1', 1, true, 'yes', 'false', '0', 0, false, 'no'].indexOf(this.value) === -1) {\n      options.push({\n        selected: () => true,\n        key: this.value,\n        label: '(invalid) ' + this.value,\n      });\n    }\n\n    return options;\n  }\n\n  answerContent() {\n    if (BaseField.isNoOptionSelectedValue(this.value)) {\n      return '';\n    }\n\n    return [1, '1', true, 'true', 'yes'].indexOf(this.value) !== -1\n      ? [icon('far fa-check-square'), ' ', app.translator.trans('fof-masquerade.forum.fields.boolean.yes')]\n      : [icon('far fa-square'), ' ', app.translator.trans('fof-masquerade.forum.fields.boolean.no')];\n  }\n}\n","import Button from 'flarum/common/components/Button';\nimport BaseField from './BaseField';\n\nexport default class EmailField extends BaseField {\n  editorInputAttrs() {\n    let attrs = super.editorInputAttrs();\n\n    attrs.type = 'email';\n    attrs.placeholder = 'you@example.com';\n\n    return attrs;\n  }\n\n  answerContent() {\n    const value = this.value;\n\n    if (!value) {\n      return null;\n    }\n\n    const email = value\n      .split(/@|\\./)\n      .map((segment) => {\n        return segment.replace(/(.{2})./g, '$1*');\n      })\n      .join('*');\n\n    return Button.component(\n      {\n        onclick: () => this.mailTo(),\n        className: 'Button Button--text',\n        icon: 'far fa-envelope',\n      },\n      email\n    );\n  }\n\n  mailTo() {\n    window.location = 'mailto:' + this.value;\n  }\n}\n","import Select from 'flarum/common/components/Select';\nimport BaseField from './BaseField';\n\nconst NO_OPTION_SELECTED_KEY = 'fof_masquerade_no_option_selected';\n\nexport default class EmailField extends BaseField {\n  editorInput() {\n    return Select.component({\n      onchange: (value) => {\n        if (value === NO_OPTION_SELECTED_KEY) {\n          value = null;\n        }\n\n        this.set(value);\n      },\n      value: BaseField.isNoOptionSelectedValue(this.value) ? NO_OPTION_SELECTED_KEY : this.value,\n      options: this.options(),\n    });\n  }\n\n  options() {\n    let options = {};\n\n    if (!this.readAttribute(this.field, 'required')) {\n      options[NO_OPTION_SELECTED_KEY] = app.translator.trans('fof-masquerade.forum.fields.select.none-optional');\n    } else if (BaseField.isNoOptionSelectedValue(this.value)) {\n      options[NO_OPTION_SELECTED_KEY] = app.translator.trans('fof-masquerade.forum.fields.select.none-required');\n    }\n\n    const validationIn = this.validationRule('in');\n\n    if (validationIn) {\n      validationIn.split(',').forEach((value) => {\n        options[value] = value;\n      });\n    }\n\n    if (!BaseField.isNoOptionSelectedValue(this.value) && typeof options[this.value] === 'undefined') {\n      options[this.value] = '(invalid) ' + this.value;\n    }\n\n    return options;\n  }\n}\n","import BaseField from './BaseField';\nimport BooleanField from './BooleanField';\nimport EmailField from './EmailField';\nimport SelectField from './SelectField';\nimport UrlField from './UrlField';\n\nexport default class TypeFactory {\n  static typeForField({ field, set, value }) {\n    let className = BaseField;\n\n    const type = this.identify(field);\n\n    if (type) {\n      className = this.types()[type];\n    }\n\n    return new className({\n      field,\n      set,\n      value,\n    });\n  }\n\n  static fieldAttribute(field, attribute) {\n    if (typeof field[attribute] === 'function') {\n      return field[attribute]();\n    }\n\n    return field[attribute];\n  }\n\n  static types() {\n    return {\n      boolean: BooleanField,\n      email: EmailField,\n      select: SelectField,\n      url: UrlField,\n    };\n  }\n\n  /**\n   * Identifies how to parse the field answer.\n   * @returns {null|string}\n   */\n  static identify(field) {\n    const validation = (this.fieldAttribute(field, 'validation') || '').split(',');\n    let identified = null;\n\n    // If the field has a type we use it\n    const fieldType = this.fieldAttribute(field, 'type');\n    if (typeof this.types()[fieldType] !== 'undefined') {\n      return fieldType;\n    }\n\n    // If it's an advanced field with no type we then guess the best type\n    validation.forEach((rule) => {\n      rule = rule.trim();\n\n      if (typeof this.types()[rule] !== 'undefined') {\n        identified = rule;\n      }\n    });\n\n    return identified;\n  }\n}\n","import Button from 'flarum/common/components/Button';\nimport BaseField from './BaseField';\n\nexport default class UrlField extends BaseField {\n  editorInputAttrs() {\n    let attrs = super.editorInputAttrs();\n\n    attrs.type = 'url';\n    attrs.placeholder = 'https://example.com';\n\n    return attrs;\n  }\n\n  answerContent() {\n    const value = this.value;\n\n    if (!value) {\n      return null;\n    }\n\n    return Button.component(\n      {\n        onclick: () => this.to(),\n        className: 'Button Button--text',\n        icon: 'fas fa-link',\n      },\n      value.replace(/^https?:\\/\\//, '')\n    );\n  }\n\n  to() {\n    const popup = window.open();\n    popup.location = this.value;\n  }\n}\n","import Model from 'flarum/common/Model';\n\nexport default class Answer extends Model {\n  content = Model.attribute('content');\n  field = Model.hasOne('field');\n  userId = Model.attribute('user_id');\n\n  apiEndpoint() {\n    return '/masquerade/configure' + (this.exists ? '/' + this.data.id : '');\n  }\n}\n","import Model from 'flarum/common/Model';\n\nexport default class Field extends Model {\n  name = Model.attribute('name');\n  description = Model.attribute('description');\n  type = Model.attribute('type');\n  validation = Model.attribute('validation');\n  required = Model.attribute('required');\n  prefix = Model.attribute('prefix');\n  icon = Model.attribute('icon');\n  sort = Model.attribute('sort');\n  deleted_at = Model.attribute('deleted_at', Model.transformDate);\n  answer = Model.hasOne('answer');\n  on_bio = Model.attribute('on_bio');\n\n  apiEndpoint() {\n    return '/masquerade/fields' + (this.exists ? '/' + this.data.id : '');\n  }\n}\n","module.exports = flarum.core.compat['common/Component'];","module.exports = flarum.core.compat['common/Model'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/Link'];","module.exports = flarum.core.compat['common/components/LinkButton'];","module.exports = flarum.core.compat['common/components/LoadingIndicator'];","module.exports = flarum.core.compat['common/components/Select'];","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['common/helpers/icon'];","module.exports = flarum.core.compat['common/models/User'];","module.exports = flarum.core.compat['forum/app'];","module.exports = flarum.core.compat['forum/components/UserCard'];","module.exports = flarum.core.compat['forum/components/UserPage'];"],"sourceRoot":""}